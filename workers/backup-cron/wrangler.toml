# Encrypted Notes Backup Cron Worker
name = "nosflare-backup-cron"
compatibility_date = "2024-09-23"
main = "src/index.ts"

# Cron trigger - runs every 6 hours
[triggers]
crons = ["0 */6 * * *"]

# D1 Database binding (same as main relay)
[[d1_databases]]
binding = "DB"
database_name = "minimoonoir"
database_id = "0109643b-b214-4509-8bf2-6a181a391ebc"

# Environment variables (set with wrangler secret)
[vars]
# GitHub repository in owner/repo format
GITHUB_REPO = "your-username/your-private-repo"
# GitHub branch (default: main)
GITHUB_BRANCH = "main"
# Backup retention days
BACKUP_RETENTION_DAYS = "30"

# Secrets (set with: wrangler secret put GITHUB_TOKEN)
# GITHUB_TOKEN = "ghp_your_github_personal_access_token"

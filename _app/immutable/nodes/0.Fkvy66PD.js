import{q as Be,s as Nt,d as a,i as I,l,m as jt,g as C,c as h,e as p,j as x,h as v,k as ye,p as Dt,n as ke,u as nt,b as o,r as R,C as j,o as N,D,f as ce,t as fe,a as Ke,y as qe,Z as Vt,_ as Wt,$ as St,a0 as Ht,A as Ee,v as yt}from"../chunks/D9KvLAFu.js";import{S as Ut,i as zt,a as st,t as rt,e as Ot,g as qt}from"../chunks/Bq9qkgAl.js";import{p as Kt}from"../chunks/BOqwVg_5.js";import{d as Rt,w as xe,b as q}from"../chunks/Dv-Yp-mw.js";import{a as lt,i as Yt,b as Gt}from"../chunks/szLgq1wZ.js";import{e as Ft,b as Qt}from"../chunks/BKPg8IT2.js";const Xt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Zt=!0,Jt=!1,Ll=Object.freeze(Object.defineProperty({__proto__:null,prerender:Zt,ssr:Jt},Symbol.toStringTag,{value:"Module"})),Ie=xe(null),Bt=xe(!1),Re=xe(typeof navigator<"u"?navigator.onLine:!0),Ge=xe(null),Ye=xe(!1),ot=xe(0);function $t(){typeof window>"u"||(window.addEventListener("online",()=>{Re.set(!0),Pt()}),window.addEventListener("offline",()=>{Re.set(!1)}),window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),Ie.set(r)}),window.addEventListener("appinstalled",()=>{Ye.set(!0),Ie.set(null)}),window.matchMedia("(display-mode: standalone)").matches&&Ye.set(!0),navigator.serviceWorker?.addEventListener("message",r=>{const{type:t,count:e}=r.data;t==="SYNC_COMPLETE"&&(console.log(`[PWA] Background sync completed: ${e} messages`),ot.set(0))}))}async function el(){const r=Be(Ie);if(!r)return console.warn("[PWA] Install prompt not available"),!1;try{await r.prompt();const{outcome:t}=await r.userChoice;return t==="accepted"?(Ye.set(!0),Ie.set(null),!0):!1}catch(t){return console.error("[PWA] Install prompt failed:",t),!1}}async function tl(){if(typeof navigator>"u"||!("serviceWorker"in navigator))return console.warn("[PWA] Service workers not supported"),null;try{const r=`${q}/service-worker.js`,t=`${q}/`,e=await navigator.serviceWorker.register(r,{scope:t});return console.log("[PWA] Service worker registered:",e),Ge.set(e),e.addEventListener("updatefound",()=>{const s=e.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&Bt.set(!0)})}),e}catch(r){return console.error("[PWA] Service worker registration failed:",r),null}}async function ll(){const r=Be(Ge);if(!r?.waiting){console.warn("[PWA] No waiting service worker");return}r.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})}async function sl(){const r=Be(Ge);return r?.active?new Promise((t,e)=>{const s=new MessageChannel;s.port1.onmessage=n=>{n.data.messages?(ot.set(n.data.messages.length),t(n.data.messages)):e(new Error(n.data.error))},r.active.postMessage({type:"GET_QUEUE"},[s.port2])}):[]}async function Pt(){const r=Be(Ge);if(!r||!("sync"in r)){console.warn("[PWA] Background sync not supported");return}try{await r.sync.register("sync-messages"),console.log("[PWA] Background sync registered")}catch(t){console.error("[PWA] Background sync failed:",t)}}const rl=Rt([Ie,Ye],([r,t])=>r!==null&&!t);async function nl(){if(typeof window>"u")return;if($t(),await tl()){console.log("[PWA] Service worker registered successfully");try{const t=await sl();t.length>0&&(console.log(`[PWA] Found ${t.length} queued messages`),Be(Re)&&await Pt())}catch(t){console.error("[PWA] Failed to check message queue:",t)}}}const{document:Et}=Xt;function Ct(r){let t,e,s,n,i,u="Install Minimoomaa Noir for offline access",f,d,k,g="Install",b,_,m="Dismiss",E,y;return{c(){t=v("div"),e=D("svg"),s=D("path"),n=x(),i=v("span"),i.textContent=u,f=x(),d=v("div"),k=v("button"),k.textContent=g,b=x(),_=v("button"),_.textContent=m,this.h()},l(M){t=h(M,"DIV",{class:!0});var c=p(t);e=j(c,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var w=p(e);s=j(w,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(s).forEach(a),w.forEach(a),n=C(c),i=h(c,"SPAN",{"data-svelte-h":!0}),N(i)!=="svelte-16jwf1w"&&(i.textContent=u),f=C(c),d=h(c,"DIV",{class:!0});var T=p(d);k=h(T,"BUTTON",{class:!0,"data-svelte-h":!0}),N(k)!=="svelte-1tlyd0p"&&(k.textContent=g),b=C(T),_=h(T,"BUTTON",{class:!0,"data-svelte-h":!0}),N(_)!=="svelte-1qyf3o7"&&(_.textContent=m),T.forEach(a),c.forEach(a),this.h()},h(){l(s,"stroke-linecap","round"),l(s,"stroke-linejoin","round"),l(s,"stroke-width","2"),l(s,"d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"class","stroke-current shrink-0 w-6 h-6"),l(k,"class","btn btn-sm btn-primary"),l(_,"class","btn btn-sm btn-ghost"),l(d,"class","flex gap-2"),l(t,"class","alert alert-info fixed top-0 left-0 right-0 z-50 rounded-none")},m(M,c){I(M,t,c),o(t,e),o(e,s),o(t,n),o(t,i),o(t,f),o(t,d),o(d,k),o(d,b),o(d,_),E||(y=[R(k,"click",r[24]),R(_,"click",r[23])],E=!0)},p:ke,d(M){M&&a(t),E=!1,nt(y)}}}function xt(r){let t,e,s,n,i,u="A new version is available",f,d,k="Update Now",g,b;return{c(){t=v("div"),e=D("svg"),s=D("path"),n=x(),i=v("span"),i.textContent=u,f=x(),d=v("button"),d.textContent=k,this.h()},l(_){t=h(_,"DIV",{class:!0});var m=p(t);e=j(m,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var E=p(e);s=j(E,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(s).forEach(a),E.forEach(a),n=C(m),i=h(m,"SPAN",{"data-svelte-h":!0}),N(i)!=="svelte-1sypjsy"&&(i.textContent=u),f=C(m),d=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),N(d)!=="svelte-1vor793"&&(d.textContent=k),m.forEach(a),this.h()},h(){l(s,"stroke-linecap","round"),l(s,"stroke-linejoin","round"),l(s,"stroke-width","2"),l(s,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"class","stroke-current shrink-0 w-6 h-6"),l(d,"class","btn btn-sm btn-warning"),l(t,"class","alert alert-warning fixed top-0 left-0 right-0 z-50 rounded-none")},m(_,m){I(_,t,m),o(t,e),o(e,s),o(t,n),o(t,i),o(t,f),o(t,d),g||(b=R(d,"click",r[25]),g=!0)},p:ke,d(_){_&&a(t),g=!1,b()}}}function Mt(r){let t,e,s,n,i,u,f=r[16]>0&&Tt(r);return{c(){t=v("div"),e=D("svg"),s=D("path"),n=x(),i=v("span"),u=fe(`You're offline. Messages will be queued.
			`),f&&f.c(),this.h()},l(d){t=h(d,"DIV",{class:!0});var k=p(t);e=j(k,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var g=p(e);s=j(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(s).forEach(a),g.forEach(a),n=C(k),i=h(k,"SPAN",{});var b=p(i);u=ce(b,`You're offline. Messages will be queued.
			`),f&&f.l(b),b.forEach(a),k.forEach(a),this.h()},h(){l(s,"stroke-linecap","round"),l(s,"stroke-linejoin","round"),l(s,"stroke-width","2"),l(s,"d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(e,"class","stroke-current shrink-0 w-6 h-6"),l(t,"class","alert alert-error fixed bottom-0 left-0 right-0 z-50 rounded-none")},m(d,k){I(d,t,k),o(t,e),o(e,s),o(t,n),o(t,i),o(i,u),f&&f.m(i,null)},p(d,k){d[16]>0?f?f.p(d,k):(f=Tt(d),f.c(),f.m(i,null)):f&&(f.d(1),f=null)},d(d){d&&a(t),f&&f.d()}}}function Tt(r){let t,e,s;return{c(){t=fe("("),e=fe(r[16]),s=fe(" queued)")},l(n){t=ce(n,"("),e=ce(n,r[16]),s=ce(n," queued)")},m(n,i){I(n,t,i),I(n,e,i),I(n,s,i)},p(n,i){i[0]&65536&&Ke(e,n[16])},d(n){n&&(a(t),a(e),a(s))}}}function Lt(r){let t,e,s,n="X",i,u,f="Your Profile",d,k,g,b,_,m,E,y=(r[9]||"Anonymous")+"",M,c,w,T=Ce(r[14])+"",X,Z,P,O,J='<span class="label-text font-semibold">Nickname</span>',se,B,te,z,W,V='<span class="label-text font-semibold">Avatar URL</span>',S,K,G,F,ve='<span class="label-text-alt text-base-content/60">Direct link to an image</span>',Q,Y,Me,L,Te,le,pe,at='<span class="label-text font-semibold">Public Key (npub)</span>',Fe,de,re,Le,Qe,ne,Xe,me,it='<span class="label-text-alt text-base-content/60">Share this to let others find you</span>',Ze,oe,he,_e,ut="Private Key (nsec)",Je,be,Ae=r[6]?"Hide":"Reveal",Pe,$e,et,ae,tt,ct;function ft(A,H){return A[10]?al:ol}let Ne=ft(r),$=Ne(r);function dt(A,H){return A[11]?ul:il}let je=dt(r),ie=je(r);function ht(A,H){return A[7]?fl:cl}let De=ht(r),ue=De(r);function vt(A,H){return A[6]?hl:dl}let Ve=vt(r),ee=Ve(r);return{c(){t=v("div"),e=v("div"),s=v("button"),s.textContent=n,i=x(),u=v("h3"),u.textContent=f,d=x(),k=v("div"),g=v("div"),b=v("div"),$.c(),_=x(),m=v("div"),E=v("div"),M=fe(y),c=x(),w=v("div"),X=fe(T),Z=x(),P=v("div"),O=v("label"),O.innerHTML=J,se=x(),B=v("input"),te=x(),z=v("div"),W=v("label"),W.innerHTML=V,S=x(),K=v("input"),G=x(),F=v("label"),F.innerHTML=ve,Q=x(),Y=v("button"),ie.c(),Me=x(),L=v("div"),Te=x(),le=v("div"),pe=v("label"),pe.innerHTML=at,Fe=x(),de=v("div"),re=v("input"),Qe=x(),ne=v("button"),ue.c(),Xe=x(),me=v("label"),me.innerHTML=it,Ze=x(),oe=v("div"),he=v("label"),_e=v("span"),_e.textContent=ut,Je=x(),be=v("button"),Pe=fe(Ae),$e=x(),ee.c(),et=x(),ae=v("div"),this.h()},l(A){t=h(A,"DIV",{class:!0});var H=p(t);e=h(H,"DIV",{class:!0});var U=p(e);s=h(U,"BUTTON",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-12uy1rd"&&(s.textContent=n),i=C(U),u=h(U,"H3",{class:!0,"data-svelte-h":!0}),N(u)!=="svelte-p97fgt"&&(u.textContent=f),d=C(U),k=h(U,"DIV",{class:!0});var We=p(k);g=h(We,"DIV",{class:!0});var pt=p(g);b=h(pt,"DIV",{class:!0});var mt=p(b);$.l(mt),mt.forEach(a),pt.forEach(a),_=C(We),m=h(We,"DIV",{class:!0});var Se=p(m);E=h(Se,"DIV",{class:!0});var _t=p(E);M=ce(_t,y),_t.forEach(a),c=C(Se),w=h(Se,"DIV",{class:!0});var bt=p(w);X=ce(bt,T),bt.forEach(a),Se.forEach(a),We.forEach(a),Z=C(U),P=h(U,"DIV",{class:!0});var He=p(P);O=h(He,"LABEL",{class:!0,"data-svelte-h":!0}),N(O)!=="svelte-1fb83s"&&(O.innerHTML=J),se=C(He),B=h(He,"INPUT",{type:!0,placeholder:!0,class:!0,maxlength:!0}),He.forEach(a),te=C(U),z=h(U,"DIV",{class:!0});var ge=p(z);W=h(ge,"LABEL",{class:!0,"data-svelte-h":!0}),N(W)!=="svelte-1cmplkk"&&(W.innerHTML=V),S=C(ge),K=h(ge,"INPUT",{type:!0,placeholder:!0,class:!0}),G=C(ge),F=h(ge,"LABEL",{class:!0,"data-svelte-h":!0}),N(F)!=="svelte-h6ug3p"&&(F.innerHTML=ve),ge.forEach(a),Q=C(U),Y=h(U,"BUTTON",{class:!0});var kt=p(Y);ie.l(kt),kt.forEach(a),Me=C(U),L=h(U,"DIV",{class:!0}),p(L).forEach(a),Te=C(U),le=h(U,"DIV",{class:!0});var we=p(le);pe=h(we,"LABEL",{class:!0,"data-svelte-h":!0}),N(pe)!=="svelte-mzjvv5"&&(pe.innerHTML=at),Fe=C(we),de=h(we,"DIV",{class:!0});var Ue=p(de);re=h(Ue,"INPUT",{type:!0,class:!0}),Qe=C(Ue),ne=h(Ue,"BUTTON",{class:!0,title:!0});var gt=p(ne);ue.l(gt),gt.forEach(a),Ue.forEach(a),Xe=C(we),me=h(we,"LABEL",{class:!0,"data-svelte-h":!0}),N(me)!=="svelte-1klecyi"&&(me.innerHTML=it),we.forEach(a),Ze=C(U),oe=h(U,"DIV",{class:!0});var ze=p(oe);he=h(ze,"LABEL",{class:!0});var Oe=p(he);_e=h(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),N(_e)!=="svelte-uqu496"&&(_e.textContent=ut),Je=C(Oe),be=h(Oe,"BUTTON",{class:!0});var wt=p(be);Pe=ce(wt,Ae),wt.forEach(a),Oe.forEach(a),$e=C(ze),ee.l(ze),ze.forEach(a),U.forEach(a),et=C(H),ae=h(H,"DIV",{class:!0,role:!0,tabindex:!0}),p(ae).forEach(a),H.forEach(a),this.h()},h(){l(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),l(u,"class","font-bold text-lg mb-4"),l(b,"class","w-16 h-16 rounded-full bg-base-300 flex items-center justify-center overflow-hidden"),l(g,"class","avatar"),l(E,"class","text-sm font-medium mb-1"),l(w,"class","text-xs text-base-content/60 font-mono"),l(m,"class","flex-1"),l(k,"class","flex items-center gap-4 mb-4"),l(O,"class","label py-1"),l(B,"type","text"),l(B,"placeholder","Enter a display name"),l(B,"class","input input-bordered input-sm"),l(B,"maxlength","50"),l(P,"class","form-control mb-3"),l(W,"class","label py-1"),l(K,"type","url"),l(K,"placeholder","https://example.com/avatar.jpg"),l(K,"class","input input-bordered input-sm"),l(F,"class","label py-1"),l(z,"class","form-control mb-4"),l(Y,"class","btn btn-primary btn-sm w-full mb-4"),l(L,"class","divider my-2"),l(pe,"class","label"),l(re,"type","text"),re.readOnly=!0,re.value=Le=Ce(r[14]),l(re,"class","input input-bordered flex-1 font-mono text-sm"),l(ne,"class","btn btn-square btn-outline"),l(ne,"title","Copy full npub"),l(de,"class","flex gap-2"),l(me,"class","label"),l(le,"class","form-control mb-4"),l(_e,"class","label-text font-semibold"),l(be,"class","btn btn-xs btn-ghost"),l(he,"class","label"),l(oe,"class","form-control"),l(e,"class","modal-box max-w-md"),l(ae,"class","modal-backdrop"),l(ae,"role","button"),l(ae,"tabindex","0"),l(t,"class","modal modal-open")},m(A,H){I(A,t,H),o(t,e),o(e,s),o(e,i),o(e,u),o(e,d),o(e,k),o(k,g),o(g,b),$.m(b,null),o(k,_),o(k,m),o(m,E),o(E,M),o(m,c),o(m,w),o(w,X),o(e,Z),o(e,P),o(P,O),o(P,se),o(P,B),qe(B,r[9]),o(e,te),o(e,z),o(z,W),o(z,S),o(z,K),qe(K,r[10]),o(z,G),o(z,F),o(e,Q),o(e,Y),ie.m(Y,null),o(e,Me),o(e,L),o(e,Te),o(e,le),o(le,pe),o(le,Fe),o(le,de),o(de,re),o(de,Qe),o(de,ne),ue.m(ne,null),o(le,Xe),o(le,me),o(e,Ze),o(e,oe),o(oe,he),o(he,_e),o(he,Je),o(he,be),o(be,Pe),o(oe,$e),ee.m(oe,null),o(t,et),o(t,ae),tt||(ct=[R(s,"click",r[19]),R(B,"input",r[29]),R(K,"input",r[30]),R(Y,"click",r[20]),R(ne,"click",r[31]),R(be,"click",r[32]),R(ae,"click",r[19]),R(ae,"keydown",r[34])],tt=!0)},p(A,H){Ne===(Ne=ft(A))&&$?$.p(A,H):($.d(1),$=Ne(A),$&&($.c(),$.m(b,null))),H[0]&512&&y!==(y=(A[9]||"Anonymous")+"")&&Ke(M,y),H[0]&16384&&T!==(T=Ce(A[14])+"")&&Ke(X,T),H[0]&512&&B.value!==A[9]&&qe(B,A[9]),H[0]&1024&&K.value!==A[10]&&qe(K,A[10]),je!==(je=dt(A))&&(ie.d(1),ie=je(A),ie&&(ie.c(),ie.m(Y,null))),H[0]&16384&&Le!==(Le=Ce(A[14]))&&re.value!==Le&&(re.value=Le),De!==(De=ht(A))&&(ue.d(1),ue=De(A),ue&&(ue.c(),ue.m(ne,null))),H[0]&64&&Ae!==(Ae=A[6]?"Hide":"Reveal")&&Ke(Pe,Ae),Ve===(Ve=vt(A))&&ee?ee.p(A,H):(ee.d(1),ee=Ve(A),ee&&(ee.c(),ee.m(oe,null)))},d(A){A&&a(t),$.d(),ie.d(),ue.d(),ee.d(),tt=!1,nt(ct)}}}function ol(r){let t,e;return{c(){t=D("svg"),e=D("path"),this.h()},l(s){t=j(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var n=p(t);e=j(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),n.forEach(a),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-8 h-8 text-base-content/50")},m(s,n){I(s,t,n),o(t,e)},p:ke,d(s){s&&a(t)}}}function al(r){let t,e;return{c(){t=v("img"),this.h()},l(s){t=h(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){yt(t.src,e=r[10])||l(t,"src",e),l(t,"alt","Avatar"),l(t,"class","w-full h-full object-cover")},m(s,n){I(s,t,n)},p(s,n){n[0]&1024&&!yt(t.src,e=s[10])&&l(t,"src",e)},d(s){s&&a(t)}}}function il(r){let t;return{c(){t=fe("Save Profile")},l(e){t=ce(e,"Save Profile")},m(e,s){I(e,t,s)},d(e){e&&a(t)}}}function ul(r){let t,e,s;return{c(){t=D("svg"),e=D("path"),s=fe(`
					Saved!`),this.h()},l(n){t=j(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var i=p(t);e=j(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),i.forEach(a),s=ce(n,`
					Saved!`),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M5 13l4 4L19 7"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-4 h-4 text-success")},m(n,i){I(n,t,i),o(t,e),I(n,s,i)},d(n){n&&(a(t),a(s))}}}function cl(r){let t,e;return{c(){t=D("svg"),e=D("path"),this.h()},l(s){t=j(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var n=p(t);e=j(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),n.forEach(a),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-5 h-5")},m(s,n){I(s,t,n),o(t,e)},d(s){s&&a(t)}}}function fl(r){let t,e;return{c(){t=D("svg"),e=D("path"),this.h()},l(s){t=j(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var n=p(t);e=j(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),n.forEach(a),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M5 13l4 4L19 7"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-5 h-5 text-success")},m(s,n){I(s,t,n),o(t,e)},d(s){s&&a(t)}}}function dl(r){let t,e='Click "Reveal" to show your private key';return{c(){t=v("div"),t.textContent=e,this.h()},l(s){t=h(s,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-dti97t"&&(t.textContent=e),this.h()},h(){l(t,"class","input input-bordered flex items-center text-base-content/40")},m(s,n){I(s,t,n)},p:ke,d(s){s&&a(t)}}}function hl(r){let t,e='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-5 w-5" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="text-sm">Never share your private key! Anyone with it controls your identity.</span>',s,n,i,u,f,d,k,g;function b(E,y){return E[8]?pl:vl}let _=b(r),m=_(r);return{c(){t=v("div"),t.innerHTML=e,s=x(),n=v("div"),i=v("input"),f=x(),d=v("button"),m.c(),this.h()},l(E){t=h(E,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1jfzl5t"&&(t.innerHTML=e),s=C(E),n=h(E,"DIV",{class:!0});var y=p(n);i=h(y,"INPUT",{type:!0,class:!0}),f=C(y),d=h(y,"BUTTON",{class:!0,title:!0});var M=p(d);m.l(M),M.forEach(a),y.forEach(a),this.h()},h(){l(t,"class","alert alert-warning mb-2"),l(i,"type","text"),i.readOnly=!0,i.value=u=Ce(r[13]),l(i,"class","input input-bordered flex-1 font-mono text-sm"),l(d,"class","btn btn-square btn-outline btn-warning"),l(d,"title","Copy full nsec"),l(n,"class","flex gap-2")},m(E,y){I(E,t,y),I(E,s,y),I(E,n,y),o(n,i),o(n,f),o(n,d),m.m(d,null),k||(g=R(d,"click",r[33]),k=!0)},p(E,y){y[0]&8192&&u!==(u=Ce(E[13]))&&i.value!==u&&(i.value=u),_!==(_=b(E))&&(m.d(1),m=_(E),m&&(m.c(),m.m(d,null)))},d(E){E&&(a(t),a(s),a(n)),m.d(),k=!1,g()}}}function vl(r){let t,e;return{c(){t=D("svg"),e=D("path"),this.h()},l(s){t=j(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var n=p(t);e=j(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),n.forEach(a),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-5 h-5")},m(s,n){I(s,t,n),o(t,e)},d(s){s&&a(t)}}}function pl(r){let t,e;return{c(){t=D("svg"),e=D("path"),this.h()},l(s){t=j(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var n=p(t);e=j(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),n.forEach(a),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M5 13l4 4L19 7"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-5 h-5 text-success")},m(s,n){I(s,t,n),o(t,e)},d(s){s&&a(t)}}}function ml(r){let t,e='<div class="loading loading-spinner loading-lg text-primary"></div>';return{c(){t=v("div"),t.innerHTML=e,this.h()},l(s){t=h(s,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1ogc7xv"&&(t.innerHTML=e),this.h()},h(){l(t,"class","flex items-center justify-center min-h-screen")},m(s,n){I(s,t,n)},p:ke,i:ke,o:ke,d(s){s&&a(t)}}}function _l(r){let t,e,s=r[12]&&r[17]&&At(r);const n=r[28].default,i=Vt(n,r,r[27],null);return{c(){s&&s.c(),t=x(),i&&i.c()},l(u){s&&s.l(u),t=C(u),i&&i.l(u)},m(u,f){s&&s.m(u,f),I(u,t,f),i&&i.m(u,f),e=!0},p(u,f){u[12]&&u[17]?s?s.p(u,f):(s=At(u),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),i&&i.p&&(!e||f[0]&134217728)&&Wt(i,n,u,u[27],e?Ht(n,u[27],f,null):St(u[27]),null)},i(u){e||(rt(i,u),e=!0)},o(u){st(i,u),e=!1},d(u){u&&a(t),s&&s.d(u),i&&i.d(u)}}}function At(r){let t,e,s=`<a href="${q}/chat" class="btn btn-ghost text-xl">Minimoomaa Noir</a>`,n,i,u,f,d,k="Channels",g,b,_,m="Messages",E,y,M,c,w,T,X='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-5 h-5"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',Z,P,O="Logout",J,se,B=r[18]&&It(r);function te(V,S){return V[3]==="dark"?kl:bl}let z=te(r),W=z(r);return{c(){t=v("nav"),e=v("div"),e.innerHTML=s,n=x(),i=v("div"),u=v("ul"),f=v("li"),d=v("a"),d.textContent=k,g=x(),b=v("li"),_=v("a"),_.textContent=m,E=x(),B&&B.c(),y=x(),M=v("div"),c=v("button"),W.c(),w=x(),T=v("button"),T.innerHTML=X,Z=x(),P=v("button"),P.textContent=O,this.h()},l(V){t=h(V,"NAV",{class:!0});var S=p(t);e=h(S,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-gdh5eg"&&(e.innerHTML=s),n=C(S),i=h(S,"DIV",{class:!0});var K=p(i);u=h(K,"UL",{class:!0});var G=p(u);f=h(G,"LI",{});var F=p(f);d=h(F,"A",{href:!0,"data-svelte-h":!0}),N(d)!=="svelte-1jb66cd"&&(d.textContent=k),F.forEach(a),g=C(G),b=h(G,"LI",{});var ve=p(b);_=h(ve,"A",{href:!0,"data-svelte-h":!0}),N(_)!=="svelte-cztui3"&&(_.textContent=m),ve.forEach(a),E=C(G),B&&B.l(G),G.forEach(a),K.forEach(a),y=C(S),M=h(S,"DIV",{class:!0});var Q=p(M);c=h(Q,"BUTTON",{class:!0});var Y=p(c);W.l(Y),Y.forEach(a),w=C(Q),T=h(Q,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),N(T)!=="svelte-1huy8bo"&&(T.innerHTML=X),Z=C(Q),P=h(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),N(P)!=="svelte-1ppmxs8"&&(P.textContent=O),Q.forEach(a),S.forEach(a),this.h()},h(){l(e,"class","navbar-start"),l(d,"href",q+"/chat"),Ee(d,"active",r[1].url.pathname.startsWith(`${q}/chat`)),l(_,"href",q+"/dm"),Ee(_,"active",r[1].url.pathname.startsWith(`${q}/dm`)),l(u,"class","menu menu-horizontal px-1"),l(i,"class","navbar-center hidden lg:flex"),l(c,"class","btn btn-ghost btn-circle"),l(T,"class","btn btn-ghost btn-circle"),l(T,"title","Profile"),l(P,"class","btn btn-ghost"),l(M,"class","navbar-end gap-2"),l(t,"class","navbar bg-base-200 shadow-lg")},m(V,S){I(V,t,S),o(t,e),o(t,n),o(t,i),o(i,u),o(u,f),o(f,d),o(u,g),o(u,b),o(b,_),o(u,E),B&&B.m(u,null),o(t,y),o(t,M),o(M,c),W.m(c,null),o(M,w),o(M,T),o(M,Z),o(M,P),J||(se=[R(c,"click",r[22]),R(T,"click",r[19]),R(P,"click",r[35])],J=!0)},p(V,S){S[0]&2&&Ee(d,"active",V[1].url.pathname.startsWith(`${q}/chat`)),S[0]&2&&Ee(_,"active",V[1].url.pathname.startsWith(`${q}/dm`)),V[18]?B?B.p(V,S):(B=It(V),B.c(),B.m(u,null)):B&&(B.d(1),B=null),z!==(z=te(V))&&(W.d(1),W=z(V),W&&(W.c(),W.m(c,null)))},d(V){V&&a(t),B&&B.d(),W.d(),J=!1,nt(se)}}}function It(r){let t,e,s="Admin";return{c(){t=v("li"),e=v("a"),e.textContent=s,this.h()},l(n){t=h(n,"LI",{});var i=p(t);e=h(i,"A",{href:!0,"data-svelte-h":!0}),N(e)!=="svelte-dtigh"&&(e.textContent=s),i.forEach(a),this.h()},h(){l(e,"href",q+"/admin"),Ee(e,"active",r[1].url.pathname===`${q}/admin`)},m(n,i){I(n,t,i),o(t,e)},p(n,i){i[0]&2&&Ee(e,"active",n[1].url.pathname===`${q}/admin`)},d(n){n&&a(t)}}}function bl(r){let t,e;return{c(){t=D("svg"),e=D("path"),this.h()},l(s){t=j(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var n=p(t);e=j(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),n.forEach(a),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-5 h-5")},m(s,n){I(s,t,n),o(t,e)},d(s){s&&a(t)}}}function kl(r){let t,e;return{c(){t=D("svg"),e=D("path"),this.h()},l(s){t=j(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var n=p(t);e=j(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(a),n.forEach(a),this.h()},h(){l(e,"stroke","currentColor"),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"class","w-5 h-5")},m(s,n){I(s,t,n),o(t,e)},d(s){s&&a(t)}}}function gl(r){let t,e,s,n,i,u,f,d,k,g=r[4]&&Ct(r),b=r[5]&&xt(r),_=!r[15]&&Mt(r),m=r[0]&&Lt(r);const E=[_l,ml],y=[];function M(c,w){return c[2]?0:1}return f=M(r),d=y[f]=E[f](r),{c(){t=x(),g&&g.c(),e=x(),b&&b.c(),s=x(),_&&_.c(),n=x(),m&&m.c(),i=x(),u=v("div"),d.c(),this.h()},l(c){jt("svelte-1n07fap",Et.head).forEach(a),t=C(c),g&&g.l(c),e=C(c),b&&b.l(c),s=C(c),_&&_.l(c),n=C(c),m&&m.l(c),i=C(c),u=h(c,"DIV",{class:!0});var T=p(u);d.l(T),T.forEach(a),this.h()},h(){Et.title="Minimoomaa Noir",l(u,"class","min-h-screen w-full transition-base")},m(c,w){I(c,t,w),g&&g.m(c,w),I(c,e,w),b&&b.m(c,w),I(c,s,w),_&&_.m(c,w),I(c,n,w),m&&m.m(c,w),I(c,i,w),I(c,u,w),y[f].m(u,null),k=!0},p(c,w){c[4]?g?g.p(c,w):(g=Ct(c),g.c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null),c[5]?b?b.p(c,w):(b=xt(c),b.c(),b.m(s.parentNode,s)):b&&(b.d(1),b=null),c[15]?_&&(_.d(1),_=null):_?_.p(c,w):(_=Mt(c),_.c(),_.m(n.parentNode,n)),c[0]?m?m.p(c,w):(m=Lt(c),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null);let T=f;f=M(c),f===T?y[f].p(c,w):(qt(),st(y[T],1,1,()=>{y[T]=null}),Ot(),d=y[f],d?d.p(c,w):(d=y[f]=E[f](c),d.c()),rt(d,1),d.m(u,null))},i(c){k||(rt(d),k=!0)},o(c){st(d),k=!1},d(c){c&&(a(t),a(e),a(s),a(n),a(i),a(u)),g&&g.d(c),b&&b.d(c),_&&_.d(c),m&&m.d(c),y[f].d()}}}function Ce(r){return r.length<=20?r:r.slice(0,12)+"..."+r.slice(-8)}function wl(r,t,e){let s,n,i,u,f,d,k,g,b;ye(r,Kt,L=>e(1,u=L)),ye(r,lt,L=>e(26,f=L)),ye(r,Re,L=>e(15,d=L)),ye(r,ot,L=>e(16,k=L)),ye(r,Yt,L=>e(17,g=L)),ye(r,Gt,L=>e(18,b=L));let{$$slots:_={},$$scope:m}=t,E=!1,y="dark",M=!1,c=!1,w=!1,T=!1,X=!1,Z=!1,P="",O="",J=!1;function se(){e(0,w=!w),w||(e(6,T=!1),e(11,J=!1))}function B(){lt.setProfile(P||null,O||null),e(11,J=!0),setTimeout(()=>e(11,J=!1),2e3)}async function te(L,Te){await navigator.clipboard.writeText(L),Te==="npub"?(e(7,X=!0),setTimeout(()=>e(7,X=!1),2e3)):(e(8,Z=!0),setTimeout(()=>e(8,Z=!1),2e3))}rl.subscribe(L=>{e(4,M=L)}),Bt.subscribe(L=>{e(5,c=L)}),Dt(()=>{e(2,E=!0);{const L=localStorage.getItem("theme")||"dark";e(3,y=L),document.documentElement.setAttribute("data-theme",L),nl()}});function z(){e(3,y=y==="dark"?"light":"dark"),document.documentElement.setAttribute("data-theme",y),localStorage.setItem("theme",y)}function W(){e(4,M=!1)}async function V(){await el()&&e(4,M=!1)}async function S(){await ll()}function K(){P=this.value,e(9,P),e(0,w),e(26,f)}function G(){O=this.value,e(10,O),e(0,w),e(26,f)}const F=()=>te(s,"npub"),ve=()=>e(6,T=!T),Q=()=>te(n,"nsec"),Y=L=>L.key==="Escape"&&se(),Me=()=>lt.logout();return r.$$set=L=>{"$$scope"in L&&e(27,m=L.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&67108864&&e(14,s=f.publicKey?Ft(f.publicKey):""),r.$$.dirty[0]&67108864&&e(13,n=f.privateKey?Qt(f.privateKey):""),r.$$.dirty[0]&67108865&&w&&(e(9,P=f.nickname||""),e(10,O=f.avatar||"")),r.$$.dirty[0]&2&&e(12,i=u.url.pathname!==`${q}/`&&u.url.pathname!==q&&u.url.pathname!==`${q}/signup`&&u.url.pathname!==`${q}/setup`)},[w,u,E,y,M,c,T,X,Z,P,O,J,i,n,s,d,k,g,b,se,B,te,z,W,V,S,f,m,_,K,G,F,ve,Q,Y,Me]}class Al extends Ut{constructor(t){super(),zt(this,t,wl,gl,Nt,{},null,[-1,-1])}}export{Al as component,Ll as universal};
//# sourceMappingURL=0.Fkvy66PD.js.map

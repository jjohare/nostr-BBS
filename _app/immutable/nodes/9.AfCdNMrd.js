import{s as me,n as ee,d as f,u as be,A as U,i as A,b as c,r as j,l as i,c as m,e as w,o as V,g as T,h as v,j as x,k as ge,B as ke,a as ye,C as ce,f as F,D as ue,t as X,y as q,E as we,m as Ee}from"../chunks/D9KvLAFu.js";import{S as ve,i as _e,d as Ce,a as Te,t as xe,m as De,c as Ie,b as Le}from"../chunks/Bq9qkgAl.js";import{e as de}from"../chunks/CZ71Vj_C.js";import{r as Me,a as Pe}from"../chunks/BKPg8IT2.js";import{a as Q}from"../chunks/szLgq1wZ.js";import{g as Ae}from"../chunks/Cpn7EE4E.js";import{b as Ke}from"../chunks/Dv-Yp-mw.js";function fe(a,t,e){const s=a.slice();return s[18]=t[e],s[19]=t,s[20]=e,s}function Be(a){let t,e,s,n=de(a[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=he(fe(a,n,o));return{c(){t=v("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){t=m(o,"DIV",{class:!0});var u=w(t);for(let r=0;r<l.length;r+=1)l[r].l(u);u.forEach(f),this.h()},h(){i(t,"class","grid grid-cols-2 sm:grid-cols-3 gap-3")},m(o,u){A(o,t,u);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null);e||(s=j(t,"paste",a[10]),e=!0)},p(o,u){if(u&20){n=de(o[2]);let r;for(r=0;r<n.length;r+=1){const p=fe(o,n,r);l[r]?l[r].p(p,u):(l[r]=he(p),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(o){o&&f(t),we(l,o),e=!1,s()}}}function Ne(a){let t,e,s='<span class="label-text">Enter your nsec or hex private key</span>',n,l,o,u,r='<span class="label-text-alt text-base-content/50">Supports nsec format (nsec1...) or raw 64-character hex</span>',p,h;return{c(){t=v("div"),e=v("label"),e.innerHTML=s,n=x(),l=v("input"),o=x(),u=v("label"),u.innerHTML=r,this.h()},l(d){t=m(d,"DIV",{class:!0});var y=w(t);e=m(y,"LABEL",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1b0nzp5"&&(e.innerHTML=s),n=T(y),l=m(y,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),o=T(y),u=m(y,"LABEL",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-1hgr7uv"&&(u.innerHTML=r),y.forEach(f),this.h()},h(){i(e,"class","label"),i(l,"type","password"),i(l,"class","input input-bordered font-mono"),i(l,"placeholder","nsec1... or 64-character hex"),l.disabled=a[4],i(l,"autocomplete","off"),i(u,"class","label"),i(t,"class","form-control")},m(d,y){A(d,t,y),c(t,e),c(t,n),c(t,l),q(l,a[3]),c(t,o),c(t,u),p||(h=j(l,"input",a[15]),p=!0)},p(d,y){y&16&&(l.disabled=d[4]),y&8&&l.value!==d[3]&&q(l,d[3])},d(d){d&&f(t),p=!1,h()}}}function Ve(a){let t,e,s,n;return{c(){t=v("div"),e=v("textarea"),this.h()},l(l){t=m(l,"DIV",{class:!0});var o=w(t);e=m(o,"TEXTAREA",{class:!0,placeholder:!0}),w(e).forEach(f),o.forEach(f),this.h()},h(){i(e,"class","textarea textarea-bordered h-32 font-mono"),i(e,"placeholder","Paste your 12-word recovery phrase here..."),e.disabled=a[4],i(t,"class","form-control")},m(l,o){A(l,t,o),c(t,e),q(e,a[1]),s||(n=j(e,"input",a[14]),s=!0)},p(l,o){o&16&&(e.disabled=l[4]),o&2&&q(e,l[1])},d(l){l&&f(t),s=!1,n()}}}function he(a){let t,e,s,n,l=a[20]+1+"",o,u,r,p,h,d;function y(){a[16].call(r,a[20])}return{c(){t=v("div"),e=v("label"),s=v("span"),n=X("Word "),o=X(l),u=x(),r=v("input"),p=x(),this.h()},l(D){t=m(D,"DIV",{class:!0});var b=w(t);e=m(b,"LABEL",{class:!0});var S=w(e);s=m(S,"SPAN",{class:!0});var K=w(s);n=F(K,"Word "),o=F(K,l),K.forEach(f),S.forEach(f),u=T(b),r=m(b,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),p=T(b),b.forEach(f),this.h()},h(){i(s,"class","label-text text-xs"),i(e,"class","label py-1"),i(r,"type","text"),i(r,"class","input input-bordered input-sm font-mono"),i(r,"placeholder",`Word ${a[20]+1}`),r.disabled=a[4],i(r,"autocomplete","off"),i(t,"class","form-control")},m(D,b){A(D,t,b),c(t,e),c(e,s),c(s,n),c(s,o),c(t,u),c(t,r),q(r,a[2][a[20]]),c(t,p),h||(d=j(r,"input",y),h=!0)},p(D,b){a=D,b&16&&(r.disabled=a[4]),b&4&&r.value!==a[2][a[20]]&&q(r,a[2][a[20]])},d(D){D&&f(t),h=!1,d()}}}function pe(a){let t,e,s,n,l,o=(a[5]||a[6].error)+"",u;return{c(){t=v("div"),e=ue("svg"),s=ue("path"),n=x(),l=v("span"),u=X(o),this.h()},l(r){t=m(r,"DIV",{class:!0});var p=w(t);e=ce(p,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var h=w(e);s=ce(h,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),w(s).forEach(f),h.forEach(f),n=T(p),l=m(p,"SPAN",{});var d=w(l);u=F(d,o),d.forEach(f),p.forEach(f),this.h()},h(){i(s,"stroke-linecap","round"),i(s,"stroke-linejoin","round"),i(s,"stroke-width","2"),i(s,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","stroke-current shrink-0 h-6 w-6"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(t,"class","alert alert-error mt-4")},m(r,p){A(r,t,p),c(t,e),c(e,s),c(t,n),c(t,l),c(l,u)},p(r,p){p&96&&o!==(o=(r[5]||r[6].error)+"")&&ye(u,o)},d(r){r&&f(t)}}}function je(a){let t;return{c(){t=X("Restore Account")},l(e){t=F(e,"Restore Account")},m(e,s){A(e,t,s)},d(e){e&&f(t)}}}function Re(a){let t,e;return{c(){t=v("span"),e=X(`
            Restoring...`),this.h()},l(s){t=m(s,"SPAN",{class:!0}),w(t).forEach(f),e=F(s,`
            Restoring...`),this.h()},h(){i(t,"class","loading loading-spinner")},m(s,n){A(s,t,n),A(s,e,n)},d(s){s&&(f(t),f(e))}}}function Se(a){let t,e,s,n,l="Restore Your Account",o,u,r='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="text-sm">Enter your 12-word recovery phrase to restore your account</span>',p,h,d,y="Paste Phrase",D,b,S="Enter Words",K,L,Y="Private Key",W,z,k,M,g,H,B,te="OR",Z,R,se="Create a new account",$,le;function re(_,I){return _[0]==="paste"?Ve:_[0]==="privatekey"?Ne:Be}let G=re(a),P=G(a),E=(a[5]||a[6].error)&&pe(a);function ae(_,I){return _[4]?Re:je}let J=ae(a),N=J(a);return{c(){t=v("div"),e=v("div"),s=v("div"),n=v("h2"),n.textContent=l,o=x(),u=v("div"),u.innerHTML=r,p=x(),h=v("div"),d=v("button"),d.textContent=y,D=x(),b=v("button"),b.textContent=S,K=x(),L=v("button"),L.textContent=Y,W=x(),P.c(),z=x(),E&&E.c(),k=x(),M=v("div"),g=v("button"),N.c(),H=x(),B=v("div"),B.textContent=te,Z=x(),R=v("button"),R.textContent=se,this.h()},l(_){t=m(_,"DIV",{class:!0});var I=w(t);e=m(I,"DIV",{class:!0});var ne=w(e);s=m(ne,"DIV",{class:!0});var C=w(s);n=m(C,"H2",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-y2r53g"&&(n.textContent=l),o=T(C),u=m(C,"DIV",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-hsyj8h"&&(u.innerHTML=r),p=T(C),h=m(C,"DIV",{class:!0});var O=w(h);d=m(O,"BUTTON",{class:!0,"data-svelte-h":!0}),V(d)!=="svelte-ojy410"&&(d.textContent=y),D=T(O),b=m(O,"BUTTON",{class:!0,"data-svelte-h":!0}),V(b)!=="svelte-11pfxv3"&&(b.textContent=S),K=T(O),L=m(O,"BUTTON",{class:!0,"data-svelte-h":!0}),V(L)!=="svelte-q81p2q"&&(L.textContent=Y),O.forEach(f),W=T(C),P.l(C),z=T(C),E&&E.l(C),k=T(C),M=m(C,"DIV",{class:!0});var oe=w(M);g=m(oe,"BUTTON",{class:!0});var ie=w(g);N.l(ie),ie.forEach(f),oe.forEach(f),H=T(C),B=m(C,"DIV",{class:!0,"data-svelte-h":!0}),V(B)!=="svelte-cr75gt"&&(B.textContent=te),Z=T(C),R=m(C,"BUTTON",{class:!0,"data-svelte-h":!0}),V(R)!=="svelte-6uh4iq"&&(R.textContent=se),C.forEach(f),ne.forEach(f),I.forEach(f),this.h()},h(){i(n,"class","card-title text-2xl justify-center mb-4"),i(u,"class","alert alert-info mb-4"),i(d,"class","tab flex-1"),U(d,"tab-active",a[0]==="paste"),i(b,"class","tab flex-1"),U(b,"tab-active",a[0]==="individual"),i(L,"class","tab flex-1"),U(L,"tab-active",a[0]==="privatekey"),i(h,"class","tabs tabs-boxed mb-4"),i(g,"class","btn btn-primary btn-lg w-full sm:w-auto px-8"),g.disabled=a[4],i(M,"class","card-actions justify-center mt-4"),i(B,"class","divider"),i(R,"class","btn btn-ghost btn-sm"),i(s,"class","card-body"),i(e,"class","card w-full max-w-2xl bg-base-100 shadow-xl"),i(t,"class","flex flex-col items-center justify-center min-h-screen p-4 bg-base-200")},m(_,I){A(_,t,I),c(t,e),c(e,s),c(s,n),c(s,o),c(s,u),c(s,p),c(s,h),c(h,d),c(h,D),c(h,b),c(h,K),c(h,L),c(s,W),P.m(s,null),c(s,z),E&&E.m(s,null),c(s,k),c(s,M),c(M,g),N.m(g,null),c(s,H),c(s,B),c(s,Z),c(s,R),$||(le=[j(d,"click",a[11]),j(b,"click",a[12]),j(L,"click",a[13]),j(g,"click",a[9]),j(R,"click",a[17])],$=!0)},p(_,[I]){I&1&&U(d,"tab-active",_[0]==="paste"),I&1&&U(b,"tab-active",_[0]==="individual"),I&1&&U(L,"tab-active",_[0]==="privatekey"),G===(G=re(_))&&P?P.p(_,I):(P.d(1),P=G(_),P&&(P.c(),P.m(s,z))),_[5]||_[6].error?E?E.p(_,I):(E=pe(_),E.c(),E.m(s,k)):E&&(E.d(1),E=null),J!==(J=ae(_))&&(N.d(1),N=J(_),N&&(N.c(),N.m(g,null))),I&16&&(g.disabled=_[4])},i:ee,o:ee,d(_){_&&f(t),P.d(),E&&E.d(),N.d(),$=!1,be(le)}}}function He(a,t,e){let s;ge(a,Q,k=>e(6,s=k));const n=ke();let l="paste",o="",u=Array(12).fill(""),r="",p=!1,h="";function d(k){e(0,l=k),e(5,h="")}async function y(){e(4,p=!0),e(5,h=""),Q.clearError();try{await new Promise(g=>setTimeout(g,100));let k,M;if(l==="privatekey"){if(!r.trim()){e(5,h="Please enter your private key (nsec or hex format)");return}const g=Me(r);k=g.publicKey,M=g.privateKey}else{const g=l==="paste"?o.trim():u.map(B=>B.trim().toLowerCase()).join(" ");if(!g||g.split(" ").length!==12){e(5,h="Please enter all 12 words");return}const H=await Pe(g);k=H.publicKey,M=H.privateKey}n("success",{publicKey:k,privateKey:M})}catch(k){e(5,h=k instanceof Error?k.message:"Invalid credentials"),Q.setError(h)}finally{e(4,p=!1)}}function D(k){k.preventDefault();const g=(k.clipboardData?.getData("text")||"").trim().toLowerCase().split(/\s+/);g.length===12&&e(2,u=g)}const b=()=>d("paste"),S=()=>d("individual"),K=()=>d("privatekey");function L(){o=this.value,e(1,o)}function Y(){r=this.value,e(3,r)}function W(k){u[k]=this.value,e(2,u)}return[l,o,u,r,p,h,s,n,d,y,D,b,S,K,L,Y,W,()=>n("success",{publicKey:"",privateKey:""})]}class Oe extends ve{constructor(t){super(),_e(this,t,He,Se,me,{})}}function Ue(a){let t,e,s;return e=new Oe({}),e.$on("success",a[0]),{c(){t=x(),Le(e.$$.fragment),this.h()},l(n){Ee("svelte-lg0q38",document.head).forEach(f),t=T(n),Ie(e.$$.fragment,n),this.h()},h(){document.title="Login - Minimoomaa Noir"},m(n,l){A(n,t,l),De(e,n,l),s=!0},p:ee,i(n){s||(xe(e.$$.fragment,n),s=!0)},o(n){Te(e.$$.fragment,n),s=!1},d(n){n&&f(t),Ce(e,n)}}}function qe(a){function t(e){const{publicKey:s,privateKey:n}=e.detail;Q.setKeys(s,n),Ae(`${Ke}/chat`)}return[t]}class Qe extends ve{constructor(t){super(),_e(this,t,qe,Ue,me,{})}}export{Qe as component};
//# sourceMappingURL=9.AfCdNMrd.js.map

import{s as re,n as R,d as c,r as ye,i as B,b as l,q as Q,l as r,c as m,e as _,o as F,g as j,h as p,j as T,k as Ie,A as xe,a as je,B as W,f as O,C as J,t as U,D as Te,m as Ne,v as pe}from"../chunks/KqBazuOQ.js";import{S as le,i as ae,a as te,t as se,e as Ve,d as Ce,m as Ee,c as $e,b as De,g as Be}from"../chunks/327BRBa5.js";import{g as Me}from"../chunks/Bv09a4W3.js";import{a as ee}from"../chunks/BdGy27T3.js";import{e as ve}from"../chunks/C0GVxn2f.js";import{g as _e}from"../chunks/BbCkqOyh.js";import{b as be}from"../chunks/BW0F1I6S.js";function ge(i){let t,s,e,n,a,v=i[1].error+"",u;return{c(){t=p("div"),s=J("svg"),e=J("path"),n=T(),a=p("span"),u=U(v),this.h()},l(h){t=m(h,"DIV",{class:!0});var o=_(t);s=W(o,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var d=_(s);e=W(d,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(e).forEach(c),d.forEach(c),n=j(o),a=m(o,"SPAN",{});var f=_(a);u=O(f,v),f.forEach(c),o.forEach(c),this.h()},h(){r(e,"stroke-linecap","round"),r(e,"stroke-linejoin","round"),r(e,"stroke-width","2"),r(e,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),r(s,"xmlns","http://www.w3.org/2000/svg"),r(s,"class","stroke-current shrink-0 h-6 w-6"),r(s,"fill","none"),r(s,"viewBox","0 0 24 24"),r(t,"class","alert alert-error mb-4")},m(h,o){B(h,t,o),l(t,s),l(s,e),l(t,n),l(t,a),l(a,u)},p(h,o){o&2&&v!==(v=h[1].error+"")&&je(u,v)},d(h){h&&c(t)}}}function Se(i){let t;return{c(){t=U("Create Account")},l(s){t=O(s,"Create Account")},m(s,e){B(s,t,e)},d(s){s&&c(t)}}}function Ae(i){let t,s;return{c(){t=p("span"),s=U(`
            Generating...`),this.h()},l(e){t=m(e,"SPAN",{class:!0}),_(t).forEach(c),s=O(e,`
            Generating...`),this.h()},h(){r(t,"class","loading loading-spinner")},m(e,n){B(e,t,n),B(e,s,n)},d(e){e&&(c(t),c(s))}}}function Ke(i){let t,s,e,n,a="Welcome to Fairfield Nostr",v,u,h='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="text-sm">You&#39;ll receive a 12-word recovery phrase. Keep it safe!</span>',o,d,f,g,N,y,q="OR",A,$,M="Already have a recovery phrase?",z,K,x=i[1].error&&ge(i);function G(E,V){return E[0]?Ae:Se}let S=G(i),C=S(i);return{c(){t=p("div"),s=p("div"),e=p("div"),n=p("h2"),n.textContent=a,v=T(),u=p("div"),u.innerHTML=h,o=T(),x&&x.c(),d=T(),f=p("div"),g=p("button"),C.c(),N=T(),y=p("div"),y.textContent=q,A=T(),$=p("button"),$.textContent=M,this.h()},l(E){t=m(E,"DIV",{class:!0});var V=_(t);s=m(V,"DIV",{class:!0});var Y=_(s);e=m(Y,"DIV",{class:!0});var D=_(e);n=m(D,"H2",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-1aqmpob"&&(n.textContent=a),v=j(D),u=m(D,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1rg0coj"&&(u.innerHTML=h),o=j(D),x&&x.l(D),d=j(D),f=m(D,"DIV",{class:!0});var P=_(f);g=m(P,"BUTTON",{class:!0});var k=_(g);C.l(k),k.forEach(c),P.forEach(c),N=j(D),y=m(D,"DIV",{class:!0,"data-svelte-h":!0}),F(y)!=="svelte-cr75gt"&&(y.textContent=q),A=j(D),$=m(D,"BUTTON",{class:!0,"data-svelte-h":!0}),F($)!=="svelte-n9xyj4"&&($.textContent=M),D.forEach(c),Y.forEach(c),V.forEach(c),this.h()},h(){r(n,"class","card-title text-2xl justify-center mb-4"),r(u,"class","alert alert-info mb-4"),r(g,"class","btn btn-primary btn-lg w-full"),g.disabled=i[0],r(f,"class","card-actions justify-center mt-4"),r(y,"class","divider"),r($,"class","btn btn-ghost btn-sm"),r(e,"class","card-body"),r(s,"class","card w-full max-w-md bg-base-100 shadow-xl"),r(t,"class","flex flex-col items-center justify-center min-h-screen p-4 bg-base-200")},m(E,V){B(E,t,V),l(t,s),l(s,e),l(e,n),l(e,v),l(e,u),l(e,o),x&&x.m(e,null),l(e,d),l(e,f),l(f,g),C.m(g,null),l(e,N),l(e,y),l(e,A),l(e,$),z||(K=[Q(g,"click",i[3]),Q($,"click",i[4])],z=!0)},p(E,[V]){E[1].error?x?x.p(E,V):(x=ge(E),x.c(),x.m(e,d)):x&&(x.d(1),x=null),S!==(S=G(E))&&(C.d(1),C=S(E),C&&(C.c(),C.m(g,null))),V&1&&(g.disabled=E[0])},i:R,o:R,d(E){E&&c(t),x&&x.d(),C.d(),z=!1,ye(K)}}}function Le(i,t,s){let e;Ie(i,ee,h=>s(1,e=h));const n=xe();let a=!1;async function v(){s(0,a=!0),ee.clearError();try{await new Promise(f=>setTimeout(f,100));const{mnemonic:h,publicKey:o,privateKey:d}=Me();n("next",{mnemonic:h,publicKey:o,privateKey:d})}catch(h){ee.setError(h instanceof Error?h.message:"Failed to generate keys")}finally{s(0,a=!1)}}return[a,e,n,v,()=>n("next",{mnemonic:"",publicKey:"",privateKey:""})]}class Pe extends le{constructor(t){super(),ae(this,t,Le,Ke,re,{})}}function ke(i,t,s){const e=i.slice();return e[8]=t[s],e[10]=s,e}function we(i){let t,s,e=i[10]+1+"",n,a,v,u,h=i[8]+"",o,d;return{c(){t=p("div"),s=p("span"),n=U(e),a=U("."),v=T(),u=p("span"),o=U(h),d=T(),this.h()},l(f){t=m(f,"DIV",{class:!0});var g=_(t);s=m(g,"SPAN",{class:!0});var N=_(s);n=O(N,e),a=O(N,"."),N.forEach(c),v=j(g),u=m(g,"SPAN",{class:!0});var y=_(u);o=O(y,h),y.forEach(c),d=j(g),g.forEach(c),this.h()},h(){r(s,"class","text-xs text-base-content/50 font-mono"),r(u,"class","font-medium font-mono"),r(t,"class","flex items-center gap-2 bg-base-100 rounded px-3 py-2 shadow")},m(f,g){B(f,t,g),l(t,s),l(s,n),l(s,a),l(t,v),l(t,u),l(u,o),l(t,d)},p:R,d(f){f&&c(t)}}}function He(i){let t,s,e;return{c(){t=J("svg"),s=J("path"),e=U(`
            Copy to Clipboard`),this.h()},l(n){t=W(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var a=_(t);s=W(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(s).forEach(c),a.forEach(c),e=O(n,`
            Copy to Clipboard`),this.h()},h(){r(s,"stroke-linecap","round"),r(s,"stroke-linejoin","round"),r(s,"stroke-width","2"),r(s,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),r(t,"xmlns","http://www.w3.org/2000/svg"),r(t,"class","h-5 w-5"),r(t,"fill","none"),r(t,"viewBox","0 0 24 24"),r(t,"stroke","currentColor")},m(n,a){B(n,t,a),l(t,s),B(n,e,a)},d(n){n&&(c(t),c(e))}}}function Oe(i){let t,s,e;return{c(){t=J("svg"),s=J("path"),e=U(`
            Copied!`),this.h()},l(n){t=W(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var a=_(t);s=W(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(s).forEach(c),a.forEach(c),e=O(n,`
            Copied!`),this.h()},h(){r(s,"stroke-linecap","round"),r(s,"stroke-linejoin","round"),r(s,"stroke-width","2"),r(s,"d","M5 13l4 4L19 7"),r(t,"xmlns","http://www.w3.org/2000/svg"),r(t,"class","h-5 w-5"),r(t,"fill","none"),r(t,"viewBox","0 0 24 24"),r(t,"stroke","currentColor")},m(n,a){B(n,t,a),l(t,s),B(n,e,a)},d(n){n&&(c(t),c(e))}}}function Ue(i){let t,s,e,n,a="Your Recovery Phrase",v,u,h='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div class="text-sm"><p class="font-bold">Write this down and keep it safe!</p> <p>This is the ONLY way to recover your account. Never share it with anyone.</p></div>',o,d,f,g,N,y,q,A,$,M,z,K,x="I have saved my recovery phrase in a secure location",G,S,C,E,V,Y,D,P=ve(i[2]),k=[];for(let b=0;b<P.length;b+=1)k[b]=we(ke(i,P,b));function oe(b,L){return b[1]?Oe:He}let X=oe(i),H=X(i);return{c(){t=p("div"),s=p("div"),e=p("div"),n=p("h2"),n.textContent=a,v=T(),u=p("div"),u.innerHTML=h,o=T(),d=p("div"),f=p("div");for(let b=0;b<k.length;b+=1)k[b].c();g=T(),N=p("div"),y=p("button"),H.c(),q=T(),A=p("div"),$=p("label"),M=p("input"),z=T(),K=p("span"),K.textContent=x,G=T(),S=p("div"),C=p("button"),E=U("Continue"),this.h()},l(b){t=m(b,"DIV",{class:!0});var L=_(t);s=m(L,"DIV",{class:!0});var w=_(s);e=m(w,"DIV",{class:!0});var I=_(e);n=m(I,"H2",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-cif8cz"&&(n.textContent=a),v=j(I),u=m(I,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1g6gkeu"&&(u.innerHTML=h),o=j(I),d=m(I,"DIV",{class:!0});var ie=_(d);f=m(ie,"DIV",{class:!0});var ce=_(f);for(let ne=0;ne<k.length;ne+=1)k[ne].l(ce);ce.forEach(c),ie.forEach(c),g=j(I),N=m(I,"DIV",{class:!0});var ue=_(N);y=m(ue,"BUTTON",{class:!0});var de=_(y);H.l(de),de.forEach(c),ue.forEach(c),q=j(I),A=m(I,"DIV",{class:!0});var fe=_(A);$=m(fe,"LABEL",{class:!0});var Z=_($);M=m(Z,"INPUT",{type:!0,class:!0}),z=j(Z),K=m(Z,"SPAN",{class:!0,"data-svelte-h":!0}),F(K)!=="svelte-1wmryvw"&&(K.textContent=x),Z.forEach(c),fe.forEach(c),G=j(I),S=m(I,"DIV",{class:!0});var he=_(S);C=m(he,"BUTTON",{class:!0});var me=_(C);E=O(me,"Continue"),me.forEach(c),he.forEach(c),I.forEach(c),w.forEach(c),L.forEach(c),this.h()},h(){r(n,"class","card-title text-2xl justify-center mb-2"),r(u,"class","alert alert-warning mb-4"),r(f,"class","grid grid-cols-3 gap-4 sm:grid-cols-4"),r(d,"class","bg-base-200 rounded-lg p-6 mb-4"),r(y,"class","btn btn-outline btn-sm gap-2"),r(N,"class","flex justify-center mb-4"),r(M,"type","checkbox"),r(M,"class","checkbox checkbox-primary"),r(K,"class","label-text text-base"),r($,"class","label cursor-pointer justify-center gap-3"),r(A,"class","form-control mb-4"),r(C,"class","btn btn-primary btn-lg w-full sm:w-auto px-8"),C.disabled=V=!i[0],r(S,"class","card-actions justify-center"),r(e,"class","card-body"),r(s,"class","card w-full max-w-2xl bg-base-100 shadow-xl"),r(t,"class","flex flex-col items-center justify-center min-h-screen p-4 bg-base-200")},m(b,L){B(b,t,L),l(t,s),l(s,e),l(e,n),l(e,v),l(e,u),l(e,o),l(e,d),l(d,f);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(f,null);l(e,g),l(e,N),l(N,y),H.m(y,null),l(e,q),l(e,A),l(A,$),l($,M),M.checked=i[0],l($,z),l($,K),l(e,G),l(e,S),l(S,C),l(C,E),Y||(D=[Q(y,"click",i[3]),Q(M,"change",i[6]),Q(C,"click",i[4])],Y=!0)},p(b,[L]){if(L&4){P=ve(b[2]);let w;for(w=0;w<P.length;w+=1){const I=ke(b,P,w);k[w]?k[w].p(I,L):(k[w]=we(I),k[w].c(),k[w].m(f,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=P.length}X!==(X=oe(b))&&(H.d(1),H=X(b),H&&(H.c(),H.m(y,null))),L&1&&(M.checked=b[0]),L&1&&V!==(V=!b[0])&&(C.disabled=V)},i:R,o:R,d(b){b&&c(t),Te(k,b),H.d(),Y=!1,ye(D)}}}function ze(i,t,s){let{mnemonic:e}=t;const n=xe();let a=!1,v=!1;const u=e.split(" ");async function h(){try{await navigator.clipboard.writeText(e),s(1,v=!0),setTimeout(()=>{s(1,v=!1)},2e3)}catch(f){console.error("Failed to copy:",f)}}function o(){a&&n("continue")}function d(){a=this.checked,s(0,a)}return i.$$set=f=>{"mnemonic"in f&&s(5,e=f.mnemonic)},[a,v,u,h,o,e,d]}class Fe extends le{constructor(t){super(),ae(this,t,ze,Ue,re,{mnemonic:5})}}function qe(i){let t,s;return t=new Fe({props:{mnemonic:i[1]}}),t.$on("continue",i[3]),{c(){De(t.$$.fragment)},l(e){$e(t.$$.fragment,e)},m(e,n){Ee(t,e,n),s=!0},p(e,n){const a={};n&2&&(a.mnemonic=e[1]),t.$set(a)},i(e){s||(se(t.$$.fragment,e),s=!0)},o(e){te(t.$$.fragment,e),s=!1},d(e){Ce(t,e)}}}function Ge(i){let t,s;return t=new Pe({}),t.$on("next",i[2]),{c(){De(t.$$.fragment)},l(e){$e(t.$$.fragment,e)},m(e,n){Ee(t,e,n),s=!0},p:R,i(e){s||(se(t.$$.fragment,e),s=!0)},o(e){te(t.$$.fragment,e),s=!1},d(e){Ce(t,e)}}}function Ye(i){let t,s,e,n,a;const v=[Ge,qe],u=[];function h(o,d){return o[0]===1?0:o[0]===2?1:-1}return~(s=h(i))&&(e=u[s]=v[s](i)),{c(){t=T(),e&&e.c(),n=pe(),this.h()},l(o){Ne("svelte-1vgrvs8",document.head).forEach(c),t=j(o),e&&e.l(o),n=pe(),this.h()},h(){document.title="Sign Up - Fairfield Nostr"},m(o,d){B(o,t,d),~s&&u[s].m(o,d),B(o,n,d),a=!0},p(o,[d]){let f=s;s=h(o),s===f?~s&&u[s].p(o,d):(e&&(Be(),te(u[f],1,1,()=>{u[f]=null}),Ve()),~s?(e=u[s],e?e.p(o,d):(e=u[s]=v[s](o),e.c()),se(e,1),e.m(n.parentNode,n)):e=null)},i(o){a||(se(e),a=!0)},o(o){te(e),a=!1},d(o){o&&(c(t),c(n)),~s&&u[s].d(o)}}}function Re(i,t,s){let e=1,n="",a="",v="";function u(o){const d=o.detail;d.mnemonic?(s(1,n=d.mnemonic),a=d.publicKey,v=d.privateKey,s(0,e=2)):_e(`${be}/setup`)}function h(){ee.setKeys(a,v,n),_e(`${be}/chat`)}return[e,n,u,h]}class st extends le{constructor(t){super(),ae(this,t,Re,Ye,re,{})}}export{st as component};
//# sourceMappingURL=10.AOajULP_.js.map

{"version":3,"file":"0.DSARjZ4w.js","sources":["../../../../../../node_modules/svelte/src/runtime/internal/globals.js","../../../../../../src/routes/+layout.ts","../../../../../../src/lib/stores/pwa.ts","../../../../../../src/lib/utils/pwa-init.ts","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n","// Enable prerendering for all pages to create static HTML files\nexport const prerender = true;\n\n// Disable SSR since this is a client-side SPA\nexport const ssr = false;\n","/**\n * PWA state management and utilities\n */\n\nimport { writable, derived, get } from 'svelte/store';\nimport { base } from '$app/paths';\n\n/**\n * Install prompt event store\n */\nexport const installPrompt = writable<BeforeInstallPromptEvent | null>(null);\n\n/**\n * Update available flag\n */\nexport const updateAvailable = writable<boolean>(false);\n\n/**\n * Online/offline status\n */\nexport const isOnline = writable<boolean>(\n  typeof navigator !== 'undefined' ? navigator.onLine : true\n);\n\n/**\n * Service worker registration\n */\nexport const swRegistration = writable<ServiceWorkerRegistration | null>(null);\n\n/**\n * PWA installed status\n */\nexport const isPWAInstalled = writable<boolean>(false);\n\n/**\n * Message queue count\n */\nexport const queuedMessageCount = writable<number>(0);\n\ninterface BeforeInstallPromptEvent extends Event {\n  prompt(): Promise<void>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\n}\n\n/**\n * Initialize PWA event listeners\n */\nexport function initPWA(): void {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // Listen for online/offline events\n  window.addEventListener('online', () => {\n    isOnline.set(true);\n    triggerBackgroundSync();\n  });\n\n  window.addEventListener('offline', () => {\n    isOnline.set(false);\n  });\n\n  // Capture install prompt\n  window.addEventListener('beforeinstallprompt', (e: Event) => {\n    e.preventDefault();\n    installPrompt.set(e as BeforeInstallPromptEvent);\n  });\n\n  // Detect if already installed\n  window.addEventListener('appinstalled', () => {\n    isPWAInstalled.set(true);\n    installPrompt.set(null);\n  });\n\n  // Check if running as PWA\n  if (window.matchMedia('(display-mode: standalone)').matches) {\n    isPWAInstalled.set(true);\n  }\n\n  // Listen for service worker messages\n  navigator.serviceWorker?.addEventListener('message', (event) => {\n    const { type, count } = event.data;\n\n    if (type === 'SYNC_COMPLETE') {\n      console.log(`[PWA] Background sync completed: ${count} messages`);\n      queuedMessageCount.set(0);\n    }\n  });\n}\n\n/**\n * Trigger PWA install prompt\n */\nexport async function triggerInstall(): Promise<boolean> {\n  const prompt = get(installPrompt);\n\n  if (!prompt) {\n    console.warn('[PWA] Install prompt not available');\n    return false;\n  }\n\n  try {\n    await prompt.prompt();\n    const { outcome } = await prompt.userChoice;\n\n    if (outcome === 'accepted') {\n      isPWAInstalled.set(true);\n      installPrompt.set(null);\n      return true;\n    }\n\n    return false;\n  } catch (error) {\n    console.error('[PWA] Install prompt failed:', error);\n    return false;\n  }\n}\n\n/**\n * Register service worker\n */\nexport async function registerServiceWorker(): Promise<ServiceWorkerRegistration | null> {\n  if (typeof navigator === 'undefined' || !('serviceWorker' in navigator)) {\n    console.warn('[PWA] Service workers not supported');\n    return null;\n  }\n\n  try {\n    const swPath = `${base}/service-worker.js`;\n    const swScope = `${base}/`;\n    const registration = await navigator.serviceWorker.register(swPath, {\n      scope: swScope\n    });\n\n    console.log('[PWA] Service worker registered:', registration);\n    swRegistration.set(registration);\n\n    // Check for updates\n    registration.addEventListener('updatefound', () => {\n      const newWorker = registration.installing;\n\n      if (!newWorker) {\n        return;\n      }\n\n      newWorker.addEventListener('statechange', () => {\n        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n          updateAvailable.set(true);\n        }\n      });\n    });\n\n    return registration;\n  } catch (error) {\n    console.error('[PWA] Service worker registration failed:', error);\n    return null;\n  }\n}\n\n/**\n * Update service worker\n */\nexport async function updateServiceWorker(): Promise<void> {\n  const registration = get(swRegistration);\n\n  if (!registration?.waiting) {\n    console.warn('[PWA] No waiting service worker');\n    return;\n  }\n\n  registration.waiting.postMessage({ type: 'SKIP_WAITING' });\n\n  navigator.serviceWorker.addEventListener('controllerchange', () => {\n    window.location.reload();\n  });\n}\n\n/**\n * Queue a message for background sync\n */\nexport async function queueMessage(\n  event: NostrEvent,\n  relayUrls: string[]\n): Promise<void> {\n  const registration = get(swRegistration);\n\n  if (!registration?.active) {\n    throw new Error('Service worker not active');\n  }\n\n  const message = {\n    id: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    timestamp: Date.now(),\n    event,\n    relayUrls\n  };\n\n  return new Promise((resolve, reject) => {\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = (event) => {\n      if (event.data.success) {\n        queuedMessageCount.update(n => n + 1);\n        resolve();\n      } else {\n        reject(new Error(event.data.error));\n      }\n    };\n\n    registration.active.postMessage(\n      { type: 'QUEUE_MESSAGE', payload: message },\n      [messageChannel.port2]\n    );\n  });\n}\n\n/**\n * Get queued message count\n */\nexport async function getQueuedMessages(): Promise<QueuedMessage[]> {\n  const registration = get(swRegistration);\n\n  if (!registration?.active) {\n    return [];\n  }\n\n  return new Promise((resolve, reject) => {\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = (event) => {\n      if (event.data.messages) {\n        queuedMessageCount.set(event.data.messages.length);\n        resolve(event.data.messages);\n      } else {\n        reject(new Error(event.data.error));\n      }\n    };\n\n    registration.active.postMessage(\n      { type: 'GET_QUEUE' },\n      [messageChannel.port2]\n    );\n  });\n}\n\n/**\n * Clear message queue\n */\nexport async function clearMessageQueue(): Promise<void> {\n  const registration = get(swRegistration);\n\n  if (!registration?.active) {\n    return;\n  }\n\n  return new Promise((resolve, reject) => {\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = (event) => {\n      if (event.data.success) {\n        queuedMessageCount.set(0);\n        resolve();\n      } else {\n        reject(new Error(event.data.error));\n      }\n    };\n\n    registration.active.postMessage(\n      { type: 'CLEAR_QUEUE' },\n      [messageChannel.port2]\n    );\n  });\n}\n\n/**\n * Trigger background sync\n */\nexport async function triggerBackgroundSync(): Promise<void> {\n  const registration = get(swRegistration);\n\n  if (!registration || !('sync' in registration)) {\n    console.warn('[PWA] Background sync not supported');\n    return;\n  }\n\n  try {\n    await (registration as any).sync.register('sync-messages');\n    console.log('[PWA] Background sync registered');\n  } catch (error) {\n    console.error('[PWA] Background sync failed:', error);\n  }\n}\n\n/**\n * Check if PWA can be installed\n */\nexport const canInstall = derived(\n  [installPrompt, isPWAInstalled],\n  ([$installPrompt, $isPWAInstalled]) =>\n    $installPrompt !== null && !$isPWAInstalled\n);\n\n/**\n * Nostr event interface\n */\ninterface NostrEvent {\n  kind: number;\n  created_at: number;\n  tags: string[][];\n  content: string;\n  pubkey: string;\n  id?: string;\n  sig?: string;\n}\n\n/**\n * Queued message interface\n */\ninterface QueuedMessage {\n  id: string;\n  timestamp: number;\n  event: NostrEvent;\n  relayUrls: string[];\n}\n","/**\n * PWA initialization utilities\n * Call from app initialization\n */\n\nimport {\n  initPWA,\n  registerServiceWorker,\n  getQueuedMessages,\n  isOnline,\n  triggerBackgroundSync\n} from '../stores/pwa';\nimport { get } from 'svelte/store';\n\n/**\n * Initialize PWA features\n * Should be called from main app component on mount\n */\nexport async function initializePWA(): Promise<void> {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // Initialize PWA event listeners\n  initPWA();\n\n  // Register service worker\n  const registration = await registerServiceWorker();\n\n  if (registration) {\n    console.log('[PWA] Service worker registered successfully');\n\n    // Check for queued messages\n    try {\n      const messages = await getQueuedMessages();\n\n      if (messages.length > 0) {\n        console.log(`[PWA] Found ${messages.length} queued messages`);\n\n        // Trigger sync if online\n        if (get(isOnline)) {\n          await triggerBackgroundSync();\n        }\n      }\n    } catch (error) {\n      console.error('[PWA] Failed to check message queue:', error);\n    }\n  }\n}\n\n/**\n * Handle send message with offline support\n * Queue message if offline, send immediately if online\n */\nexport async function sendMessageWithOfflineSupport(\n  event: NostrEvent,\n  relayUrls: string[],\n  sendFn: (event: NostrEvent, relayUrls: string[]) => Promise<void>\n): Promise<void> {\n  const online = get(isOnline);\n\n  if (online) {\n    // Try to send immediately\n    try {\n      await sendFn(event, relayUrls);\n    } catch (error) {\n      console.error('[PWA] Send failed, queueing message:', error);\n      const { queueMessage } = await import('../stores/pwa');\n      await queueMessage(event, relayUrls);\n    }\n  } else {\n    // Queue for later\n    console.log('[PWA] Offline, queueing message');\n    const { queueMessage } = await import('../stores/pwa');\n    await queueMessage(event, relayUrls);\n  }\n}\n\ninterface NostrEvent {\n  kind: number;\n  created_at: number;\n  tags: string[][];\n  content: string;\n  pubkey: string;\n  id?: string;\n  sig?: string;\n}\n","<script lang=\"ts\">\n\timport '../app.css';\n\timport { onMount } from 'svelte';\n\timport { browser } from '$app/environment';\n\timport { page } from '$app/stores';\n\timport { base } from '$app/paths';\n\timport { authStore, isAuthenticated, isAdmin } from '$lib/stores/auth';\n\timport { initializePWA } from '$lib/utils/pwa-init';\n\timport { encodePubkey, encodePrivkey } from '$lib/nostr/keys';\n\timport {\n\t\tcanInstall,\n\t\ttriggerInstall,\n\t\tupdateAvailable,\n\t\tupdateServiceWorker,\n\t\tisOnline,\n\t\tqueuedMessageCount\n\t} from '$lib/stores/pwa';\n\n\tlet mounted = false;\n\tlet themePreference = 'dark';\n\tlet showInstallBanner = false;\n\tlet showUpdateBanner = false;\n\tlet showProfileModal = false;\n\tlet showNsec = false;\n\tlet copiedNpub = false;\n\tlet copiedNsec = false;\n\tlet editNickname = '';\n\tlet editAvatar = '';\n\tlet profileSaved = false;\n\n\t$: npub = $authStore.publicKey ? encodePubkey($authStore.publicKey) : '';\n\t$: nsec = $authStore.privateKey ? encodePrivkey($authStore.privateKey) : '';\n\t// Initialize form fields when modal opens (only once per open)\n\tlet lastModalState = false;\n\t$: if (showProfileModal && !lastModalState) {\n\t\teditNickname = $authStore.nickname || '';\n\t\teditAvatar = $authStore.avatar || '';\n\t}\n\t$: lastModalState = showProfileModal;\n\n\tfunction toggleProfileModal() {\n\t\tshowProfileModal = !showProfileModal;\n\t\tif (!showProfileModal) {\n\t\t\tshowNsec = false;\n\t\t\tprofileSaved = false;\n\t\t}\n\t}\n\n\tfunction saveProfile() {\n\t\tauthStore.setProfile(editNickname || null, editAvatar || null);\n\t\tprofileSaved = true;\n\t\tsetTimeout(() => profileSaved = false, 2000);\n\t}\n\n\tasync function copyToClipboard(text: string, type: 'npub' | 'nsec') {\n\t\tawait navigator.clipboard.writeText(text);\n\t\tif (type === 'npub') {\n\t\t\tcopiedNpub = true;\n\t\t\tsetTimeout(() => copiedNpub = false, 2000);\n\t\t} else {\n\t\t\tcopiedNsec = true;\n\t\t\tsetTimeout(() => copiedNsec = false, 2000);\n\t\t}\n\t}\n\n\tfunction formatKey(key: string): string {\n\t\tif (key.length <= 20) return key;\n\t\treturn key.slice(0, 12) + '...' + key.slice(-8);\n\t}\n\n\t$: showNav = $page.url.pathname !== `${base}/` && $page.url.pathname !== base && $page.url.pathname !== `${base}/signup` && $page.url.pathname !== `${base}/setup`;\n\n\tcanInstall.subscribe(value => {\n\t\tshowInstallBanner = value;\n\t});\n\n\tupdateAvailable.subscribe(value => {\n\t\tshowUpdateBanner = value;\n\t});\n\n\tonMount(() => {\n\t\tmounted = true;\n\n\t\tif (browser) {\n\t\t\tconst savedTheme = localStorage.getItem('theme') || 'dark';\n\t\t\tthemePreference = savedTheme;\n\t\t\tdocument.documentElement.setAttribute('data-theme', savedTheme);\n\n\t\t\t// Initialize PWA\n\t\t\tinitializePWA();\n\t\t}\n\t});\n\n\tfunction toggleTheme() {\n\t\tif (!browser) return;\n\n\t\tthemePreference = themePreference === 'dark' ? 'light' : 'dark';\n\t\tdocument.documentElement.setAttribute('data-theme', themePreference);\n\t\tlocalStorage.setItem('theme', themePreference);\n\t}\n\n\tfunction dismissInstallBanner() {\n\t\tshowInstallBanner = false;\n\t}\n\n\tasync function handleInstall() {\n\t\tconst installed = await triggerInstall();\n\t\tif (installed) {\n\t\t\tshowInstallBanner = false;\n\t\t}\n\t}\n\n\tasync function handleUpdate() {\n\t\tawait updateServiceWorker();\n\t}\n</script>\n\n<svelte:head>\n\t<title>Minimoomaa Noir</title>\n</svelte:head>\n\n<!-- PWA Install Banner -->\n{#if showInstallBanner}\n\t<div class=\"alert alert-info fixed top-0 left-0 right-0 z-50 rounded-none\">\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"stroke-current shrink-0 w-6 h-6\">\n\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n\t\t</svg>\n\t\t<span>Install Minimoomaa Noir for offline access</span>\n\t\t<div class=\"flex gap-2\">\n\t\t\t<button class=\"btn btn-sm btn-primary\" on:click={handleInstall}>Install</button>\n\t\t\t<button class=\"btn btn-sm btn-ghost\" on:click={dismissInstallBanner}>Dismiss</button>\n\t\t</div>\n\t</div>\n{/if}\n\n<!-- PWA Update Banner -->\n{#if showUpdateBanner}\n\t<div class=\"alert alert-warning fixed top-0 left-0 right-0 z-50 rounded-none\">\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"stroke-current shrink-0 w-6 h-6\">\n\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\n\t\t</svg>\n\t\t<span>A new version is available</span>\n\t\t<button class=\"btn btn-sm btn-warning\" on:click={handleUpdate}>Update Now</button>\n\t</div>\n{/if}\n\n<!-- Offline Indicator -->\n{#if !$isOnline}\n\t<div class=\"alert alert-error fixed bottom-0 left-0 right-0 z-50 rounded-none\">\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"stroke-current shrink-0 w-6 h-6\">\n\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"></path>\n\t\t</svg>\n\t\t<span>\n\t\t\tYou're offline. Messages will be queued.\n\t\t\t{#if $queuedMessageCount > 0}\n\t\t\t\t({$queuedMessageCount} queued)\n\t\t\t{/if}\n\t\t</span>\n\t</div>\n{/if}\n\n<!-- Profile Modal -->\n{#if showProfileModal}\n\t<div class=\"modal modal-open\">\n\t\t<div class=\"modal-box max-w-md\">\n\t\t\t<button class=\"btn btn-sm btn-circle btn-ghost absolute right-2 top-2\" on:click={toggleProfileModal}>X</button>\n\t\t\t<h3 class=\"font-bold text-lg mb-4\">Your Profile</h3>\n\n\t\t\t<!-- Avatar Preview & Edit -->\n\t\t\t<div class=\"flex items-center gap-4 mb-4\">\n\t\t\t\t<div class=\"avatar\">\n\t\t\t\t\t<div class=\"w-16 h-16 rounded-full bg-base-300 flex items-center justify-center overflow-hidden\">\n\t\t\t\t\t\t{#if editAvatar}\n\t\t\t\t\t\t\t<img src={editAvatar} alt=\"Avatar\" class=\"w-full h-full object-cover\" />\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-8 h-8 text-base-content/50\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"/></svg>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<div class=\"text-sm font-medium mb-1\">{editNickname || 'Anonymous'}</div>\n\t\t\t\t\t<div class=\"text-xs text-base-content/60 font-mono\">{formatKey(npub)}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Nickname -->\n\t\t\t<div class=\"form-control mb-3\">\n\t\t\t\t<label class=\"label py-1\">\n\t\t\t\t\t<span class=\"label-text font-semibold\">Nickname</span>\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tbind:value={editNickname}\n\t\t\t\t\tplaceholder=\"Enter a display name\"\n\t\t\t\t\tclass=\"input input-bordered input-sm\"\n\t\t\t\t\tmaxlength=\"50\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<!-- Avatar URL -->\n\t\t\t<div class=\"form-control mb-4\">\n\t\t\t\t<label class=\"label py-1\">\n\t\t\t\t\t<span class=\"label-text font-semibold\">Avatar URL</span>\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tbind:value={editAvatar}\n\t\t\t\t\tplaceholder=\"https://example.com/avatar.jpg\"\n\t\t\t\t\tclass=\"input input-bordered input-sm\"\n\t\t\t\t/>\n\t\t\t\t<label class=\"label py-1\">\n\t\t\t\t\t<span class=\"label-text-alt text-base-content/60\">Direct link to an image</span>\n\t\t\t\t</label>\n\t\t\t</div>\n\n\t\t\t<!-- Save Profile Button -->\n\t\t\t<button class=\"btn btn-primary btn-sm w-full mb-4\" on:click={saveProfile}>\n\t\t\t\t{#if profileSaved}\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-4 h-4 text-success\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"/></svg>\n\t\t\t\t\tSaved!\n\t\t\t\t{:else}\n\t\t\t\t\tSave Profile\n\t\t\t\t{/if}\n\t\t\t</button>\n\n\t\t\t<div class=\"divider my-2\"></div>\n\n\t\t\t<!-- npub (always visible) -->\n\t\t\t<div class=\"form-control mb-4\">\n\t\t\t\t<label class=\"label\">\n\t\t\t\t\t<span class=\"label-text font-semibold\">Public Key (npub)</span>\n\t\t\t\t</label>\n\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t<input type=\"text\" readonly value={formatKey(npub)} class=\"input input-bordered flex-1 font-mono text-sm\" />\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-square btn-outline\"\n\t\t\t\t\t\ton:click={() => copyToClipboard(npub, 'npub')}\n\t\t\t\t\t\ttitle=\"Copy full npub\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if copiedNpub}\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-5 h-5 text-success\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"/></svg>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-5 h-5\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"/></svg>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<label class=\"label\">\n\t\t\t\t\t<span class=\"label-text-alt text-base-content/60\">Share this to let others find you</span>\n\t\t\t\t</label>\n\t\t\t</div>\n\n\t\t\t<!-- nsec (hidden by default) -->\n\t\t\t<div class=\"form-control\">\n\t\t\t\t<label class=\"label\">\n\t\t\t\t\t<span class=\"label-text font-semibold\">Private Key (nsec)</span>\n\t\t\t\t\t<button class=\"btn btn-xs btn-ghost\" on:click={() => showNsec = !showNsec}>\n\t\t\t\t\t\t{showNsec ? 'Hide' : 'Reveal'}\n\t\t\t\t\t</button>\n\t\t\t\t</label>\n\t\t\t\t{#if showNsec}\n\t\t\t\t\t<div class=\"alert alert-warning mb-2\">\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-current shrink-0 h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" /></svg>\n\t\t\t\t\t\t<span class=\"text-sm\">Never share your private key! Anyone with it controls your identity.</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t<input type=\"text\" readonly value={formatKey(nsec)} class=\"input input-bordered flex-1 font-mono text-sm\" />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"btn btn-square btn-outline btn-warning\"\n\t\t\t\t\t\t\ton:click={() => copyToClipboard(nsec, 'nsec')}\n\t\t\t\t\t\t\ttitle=\"Copy full nsec\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if copiedNsec}\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-5 h-5 text-success\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"/></svg>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-5 h-5\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"/></svg>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"input input-bordered flex items-center text-base-content/40\">\n\t\t\t\t\t\tClick \"Reveal\" to show your private key\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"modal-backdrop\" on:click={toggleProfileModal} on:keydown={(e) => e.key === 'Escape' && toggleProfileModal()} role=\"button\" tabindex=\"0\"></div>\n\t</div>\n{/if}\n\n<div class=\"min-h-screen w-full transition-base\">\n\t{#if mounted}\n\t\t{#if showNav && $isAuthenticated}\n\t\t\t<nav class=\"navbar bg-base-200 shadow-lg\">\n\t\t\t\t<div class=\"navbar-start\">\n\t\t\t\t\t<a href=\"{base}/chat\" class=\"btn btn-ghost text-xl\">Minimoomaa Noir</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"navbar-center hidden lg:flex\">\n\t\t\t\t\t<ul class=\"menu menu-horizontal px-1\">\n\t\t\t\t\t\t<li><a href=\"{base}/chat\" class:active={$page.url.pathname.startsWith(`${base}/chat`)}>Channels</a></li>\n\t\t\t\t\t\t<li><a href=\"{base}/dm\" class:active={$page.url.pathname.startsWith(`${base}/dm`)}>Messages</a></li>\n\t\t\t\t\t\t{#if $isAdmin}\n\t\t\t\t\t\t\t<li><a href=\"{base}/admin\" class:active={$page.url.pathname === `${base}/admin`}>Admin</a></li>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"navbar-end gap-2\">\n\t\t\t\t\t<button class=\"btn btn-ghost btn-circle\" on:click={toggleTheme}>\n\t\t\t\t\t\t{#if themePreference === 'dark'}\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-5 h-5\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"/></svg>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-5 h-5\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"/></svg>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"btn btn-ghost btn-circle\" on:click={toggleProfileModal} title=\"Profile\">\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"w-5 h-5\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"/></svg>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"btn btn-ghost\" on:click={() => authStore.logout()}>\n\t\t\t\t\t\tLogout\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t{/if}\n\t\t<slot />\n\t{:else}\n\t\t<div class=\"flex items-center justify-center min-h-screen\">\n\t\t\t<div class=\"loading loading-spinner loading-lg text-primary\"></div>\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t:global(body) {\n\t\toverscroll-behavior: none;\n\t}\n</style>\n"],"names":["globals","prerender","ssr","installPrompt","writable","updateAvailable","isOnline","swRegistration","isPWAInstalled","queuedMessageCount","initPWA","triggerBackgroundSync","e","event","type","count","triggerInstall","prompt","get","outcome","error","registerServiceWorker","swPath","base","swScope","registration","newWorker","updateServiceWorker","getQueuedMessages","resolve","reject","messageChannel","canInstall","derived","$installPrompt","$isPWAInstalled","initializePWA","messages","insert_hydration","target","div1","anchor","append_hydration","svg","path","span","div0","button0","button1","ctx","div","button","if_block","create_if_block_11","t5_value","t7_value","formatKey","create_if_block_9","create_if_block_8","create_if_block_7","create_if_block_5","input2","input2_value_value","div14","div12","h3","div5","div4","div2","div3","div6","label0","input0","div7","label1","input1","label2","div8","div10","label3","div9","button2","label4","div11","label5","span5","button3","div13","dirty","set_data","t5","t7","t27","t27_value","attr","img","img_src_value","create_if_block_6","input","input_value_value","create_if_block_1","create_if_block_3","create_if_block_2","toggle_class","a1","a2","nav","ul","li0","li1","a","li","create_if_block_13","create_if_block_12","create_if_block_10","create_if_block_4","key","mounted","themePreference","showInstallBanner","showUpdateBanner","showProfileModal","showNsec","copiedNpub","copiedNsec","editNickname","editAvatar","profileSaved","lastModalState","toggleProfileModal","saveProfile","authStore","$$invalidate","copyToClipboard","text","value","onMount","savedTheme","toggleTheme","dismissInstallBanner","handleInstall","handleUpdate","npub","click_handler_1","nsec","keydown_handler","click_handler_3","$authStore","encodePubkey","encodePrivkey","showNav","$page"],"mappings":"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","x_google_ignoreList":[0]}
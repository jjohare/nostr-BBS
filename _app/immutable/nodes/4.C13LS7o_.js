import{s as fe,n as q,d,i as E,b as c,l as _,m as he,g as x,c as h,e as v,o as L,j as C,h as u,k as ue,p as pe,a as M,f as T,t as N,q as _e}from"../chunks/DzI9cZK7.js";import{e as ae,u as me,d as ve}from"../chunks/BJVAiE7y.js";import{S as be,i as ge}from"../chunks/DQ8TXwry.js";import{g as se}from"../chunks/vfioTGuK.js";import{b as le}from"../chunks/CbfuHqtt.js";import{a as ye}from"../chunks/CnQ7tD4U.js";import{s as ke,c as xe}from"../chunks/QaGk0KJq.js";import{f as Ce}from"../chunks/SG5lmA__.js";const Ee=!0,De=async()=>({channels:[]}),Oe=Object.freeze(Object.defineProperty({__proto__:null,load:De,prerender:Ee},Symbol.toStringTag,{value:"Module"}));function ne(f,e,t){const a=f.slice();return a[6]=e[t],a}function Se(f){let e,t=[],a=new Map,s=ae(f[0]);const i=n=>n[6].id;for(let n=0;n<s.length;n+=1){let o=ne(f,s,n),r=i(o);a.set(r,t[n]=oe(r,o))}return{c(){e=u("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=h(n,"DIV",{class:!0});var o=v(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(d),this.h()},h(){_(e,"class","grid gap-4 sm:grid-cols-2")},m(n,o){E(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,o){o&9&&(s=ae(n[0]),t=me(t,o,i,1,n,s,a,e,ve,oe,null,ne))},d(n){n&&d(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ie(f){let e,t='<div class="card-body items-center text-center"><p class="text-base-content/70">No channels found. Create one to get started!</p></div>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(a){e=h(a,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-3oz8ny"&&(e.innerHTML=t),this.h()},h(){_(e,"class","card bg-base-200")},m(a,s){E(a,e,s)},p:q,d(a){a&&d(e)}}}function Ve(f){let e,t,a;return{c(){e=u("div"),t=u("span"),a=N(f[2]),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=v(e);t=h(i,"SPAN",{});var n=v(t);a=T(n,f[2]),n.forEach(d),i.forEach(d),this.h()},h(){_(e,"class","alert alert-error")},m(s,i){E(s,e,i),c(e,t),c(t,a)},p(s,i){i&4&&M(a,s[2])},d(s){s&&d(e)}}}function Ae(f){let e,t='<div class="loading loading-spinner loading-lg text-primary"></div>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(a){e=h(a,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-hu9n30"&&(e.innerHTML=t),this.h()},h(){_(e,"class","flex justify-center items-center min-h-[400px]")},m(a,s){E(a,e,s)},p:q,d(a){a&&d(e)}}}function ie(f){let e,t=f[6].description+"",a;return{c(){e=u("p"),a=N(t),this.h()},l(s){e=h(s,"P",{class:!0});var i=v(e);a=T(i,t),i.forEach(d),this.h()},h(){_(e,"class","text-sm text-base-content/70 line-clamp-2")},m(s,i){E(s,e,i),c(e,a)},p(s,i){i&1&&t!==(t=s[6].description+"")&&M(a,t)},d(s){s&&d(e)}}}function re(f){let e,t="Encrypted";return{c(){e=u("span"),e.textContent=t,this.h()},l(a){e=h(a,"SPAN",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-17lvcyk"&&(e.textContent=t),this.h()},h(){_(e,"class","badge badge-sm badge-primary")},m(a,s){E(a,e,s)},d(a){a&&d(e)}}}function oe(f,e){let t,a,s,i,n=e[6].name.charAt(0).toUpperCase()+"",o,r,l,b,k=e[6].name+"",j,F,K,g,I,P=e[6].visibility+"",z,B,V,W="â€¢",J,w,H=ce(e[6].createdAt)+"",O,G,Q,R,X,p=e[6].description&&ie(e),m=e[6].encrypted&&re();function de(){return e[4](e[6])}return{key:f,first:null,c(){t=u("button"),a=u("div"),s=u("div"),i=u("div"),o=N(n),r=C(),l=u("div"),b=u("h3"),j=N(k),F=C(),p&&p.c(),K=C(),g=u("div"),I=u("span"),z=N(P),B=C(),V=u("span"),V.textContent=W,J=C(),w=u("span"),O=N(H),G=C(),m&&m.c(),Q=C(),this.h()},l(S){t=h(S,"BUTTON",{class:!0});var y=v(t);a=h(y,"DIV",{class:!0});var Y=v(a);s=h(Y,"DIV",{class:!0});var U=v(s);i=h(U,"DIV",{class:!0});var Z=v(i);o=T(Z,n),Z.forEach(d),r=x(U),l=h(U,"DIV",{class:!0});var A=v(l);b=h(A,"H3",{class:!0});var $=v(b);j=T($,k),$.forEach(d),F=x(A),p&&p.l(A),K=x(A),g=h(A,"DIV",{class:!0});var D=v(g);I=h(D,"SPAN",{class:!0});var ee=v(I);z=T(ee,P),ee.forEach(d),B=x(D),V=h(D,"SPAN",{"data-svelte-h":!0}),L(V)!=="svelte-7hh8jk"&&(V.textContent=W),J=x(D),w=h(D,"SPAN",{});var te=v(w);O=T(te,H),te.forEach(d),G=x(D),m&&m.l(D),D.forEach(d),A.forEach(d),U.forEach(d),Y.forEach(d),Q=x(y),y.forEach(d),this.h()},h(){_(i,"class","w-12 h-12 rounded-lg bg-primary flex items-center justify-center text-primary-content font-bold text-xl"),_(b,"class","card-title text-lg mb-1"),_(I,"class","badge badge-sm badge-ghost"),_(g,"class","flex items-center gap-3 mt-2 text-xs text-base-content/60"),_(l,"class","flex-1 min-w-0"),_(s,"class","flex items-start gap-3"),_(a,"class","card-body"),_(t,"class","card bg-base-200 hover:bg-base-300 transition-base cursor-pointer text-left"),this.first=t},m(S,y){E(S,t,y),c(t,a),c(a,s),c(s,i),c(i,o),c(s,r),c(s,l),c(l,b),c(b,j),c(l,F),p&&p.m(l,null),c(l,K),c(l,g),c(g,I),c(I,z),c(g,B),c(g,V),c(g,J),c(g,w),c(w,O),c(g,G),m&&m.m(g,null),c(t,Q),R||(X=_e(t,"click",de),R=!0)},p(S,y){e=S,y&1&&n!==(n=e[6].name.charAt(0).toUpperCase()+"")&&M(o,n),y&1&&k!==(k=e[6].name+"")&&M(j,k),e[6].description?p?p.p(e,y):(p=ie(e),p.c(),p.m(l,K)):p&&(p.d(1),p=null),y&1&&P!==(P=e[6].visibility+"")&&M(z,P),y&1&&H!==(H=ce(e[6].createdAt)+"")&&M(O,H),e[6].encrypted?m||(m=re(),m.c(),m.m(g,null)):m&&(m.d(1),m=null)},d(S){S&&d(t),p&&p.d(),m&&m.d(),R=!1,X()}}}function Me(f){let e,t,a,s='<h1 class="text-4xl font-bold gradient-text mb-2">Channels</h1> <p class="text-base-content/70">Join conversations in public channels</p>',i;function n(l,b){return l[1]?Ae:l[2]?Ve:l[0].length===0?Ie:Se}let o=n(f),r=o(f);return{c(){e=C(),t=u("div"),a=u("div"),a.innerHTML=s,i=C(),r.c(),this.h()},l(l){he("svelte-102szcl",document.head).forEach(d),e=x(l),t=h(l,"DIV",{class:!0});var k=v(t);a=h(k,"DIV",{class:!0,"data-svelte-h":!0}),L(a)!=="svelte-bnd43p"&&(a.innerHTML=s),i=x(k),r.l(k),k.forEach(d),this.h()},h(){document.title="Channels - Minimoomaa Noir",_(a,"class","mb-6"),_(t,"class","container mx-auto p-4 max-w-4xl")},m(l,b){E(l,e,b),E(l,t,b),c(t,a),c(t,i),r.m(t,null)},p(l,[b]){o===(o=n(l))&&r?r.p(l,b):(r.d(1),r=o(l),r&&(r.c(),r.m(t,null)))},i:q,o:q,d(l){l&&(d(e),d(t)),r.d()}}}function ce(f){return new Date(f*1e3).toLocaleDateString()}function Te(f,e,t){let a;ue(f,ye,l=>t(5,a=l));let s=[],i=!0,n=null;pe(async()=>{if(!a.isAuthenticated||!a.publicKey){se(`${le}/`);return}try{a.privateKey&&ke(a.privateKey),await xe(),t(0,s=await Ce())}catch(l){console.error("Failed to load channels:",l),t(2,n=l instanceof Error?l.message:"Failed to load channels")}finally{t(1,i=!1)}});function o(l){se(`${le}/chat/${l}`)}return[s,i,n,o,l=>o(l.id)]}class Ue extends be{constructor(e){super(),ge(this,e,Te,Me,fe,{})}}export{Ue as component,Oe as universal};
//# sourceMappingURL=4.C13LS7o_.js.map

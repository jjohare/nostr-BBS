import{s as fe,n as Q,d,u as me,A as F,i as j,b as c,r as L,l as i,c as m,e as k,o as K,g as x,h as _,j as I,k as _e,B as ve,a as be,C as ne,f as U,D as oe,t as W,y as Y,E as ge,m as ke}from"../chunks/D9KvLAFu.js";import{S as he,i as pe,d as we,a as ye,t as Ee,m as Ce,c as De,b as xe}from"../chunks/Bq9qkgAl.js";import{e as ie}from"../chunks/CZ71Vj_C.js";import{r as Ie}from"../chunks/DtQdW-B4.js";import{a as X}from"../chunks/Bywki5mg.js";import{g as Te}from"../chunks/bfnv6XBb.js";import{b as Ae}from"../chunks/D2J3qzGV.js";function ce(r,t,e){const s=r.slice();return s[15]=t[e],s[16]=t,s[17]=e,s}function Pe(r){let t,e,s,a=ie(r[2]),n=[];for(let o=0;o<a.length;o+=1)n[o]=ue(ce(r,a,o));return{c(){t=_("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){t=m(o,"DIV",{class:!0});var u=k(t);for(let l=0;l<n.length;l+=1)n[l].l(u);u.forEach(d),this.h()},h(){i(t,"class","grid grid-cols-2 sm:grid-cols-3 gap-3")},m(o,u){j(o,t,u);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null);e||(s=L(t,"paste",r[9]),e=!0)},p(o,u){if(u&12){a=ie(o[2]);let l;for(l=0;l<a.length;l+=1){const f=ce(o,a,l);n[l]?n[l].p(f,u):(n[l]=ue(f),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}},d(o){o&&d(t),ge(n,o),e=!1,s()}}}function Ve(r){let t,e,s,a;return{c(){t=_("div"),e=_("textarea"),this.h()},l(n){t=m(n,"DIV",{class:!0});var o=k(t);e=m(o,"TEXTAREA",{class:!0,placeholder:!0}),k(e).forEach(d),o.forEach(d),this.h()},h(){i(e,"class","textarea textarea-bordered h-32 font-mono"),i(e,"placeholder","Paste your 12-word recovery phrase here..."),e.disabled=r[3],i(t,"class","form-control")},m(n,o){j(n,t,o),c(t,e),Y(e,r[1]),s||(a=L(e,"input",r[12]),s=!0)},p(n,o){o&8&&(e.disabled=n[3]),o&2&&Y(e,n[1])},d(n){n&&d(t),s=!1,a()}}}function ue(r){let t,e,s,a,n=r[17]+1+"",o,u,l,f,b,g;function S(){r[13].call(l,r[17])}return{c(){t=_("div"),e=_("label"),s=_("span"),a=W("Word "),o=W(n),u=I(),l=_("input"),f=I(),this.h()},l(C){t=m(C,"DIV",{class:!0});var h=k(t);e=m(h,"LABEL",{class:!0});var M=k(e);s=m(M,"SPAN",{class:!0});var A=k(s);a=U(A,"Word "),o=U(A,n),A.forEach(d),M.forEach(d),u=x(h),l=m(h,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),f=x(h),h.forEach(d),this.h()},h(){i(s,"class","label-text text-xs"),i(e,"class","label py-1"),i(l,"type","text"),i(l,"class","input input-bordered input-sm font-mono"),i(l,"placeholder",`Word ${r[17]+1}`),l.disabled=r[3],i(l,"autocomplete","off"),i(t,"class","form-control")},m(C,h){j(C,t,h),c(t,e),c(e,s),c(s,a),c(s,o),c(t,u),c(t,l),Y(l,r[2][r[17]]),c(t,f),b||(g=L(l,"input",S),b=!0)},p(C,h){r=C,h&8&&(l.disabled=r[3]),h&4&&l.value!==r[2][r[17]]&&Y(l,r[2][r[17]])},d(C){C&&d(t),b=!1,g()}}}function de(r){let t,e,s,a,n,o=(r[4]||r[5].error)+"",u;return{c(){t=_("div"),e=oe("svg"),s=oe("path"),a=I(),n=_("span"),u=W(o),this.h()},l(l){t=m(l,"DIV",{class:!0});var f=k(t);e=ne(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var b=k(e);s=ne(b,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(s).forEach(d),b.forEach(d),a=x(f),n=m(f,"SPAN",{});var g=k(n);u=U(g,o),g.forEach(d),f.forEach(d),this.h()},h(){i(s,"stroke-linecap","round"),i(s,"stroke-linejoin","round"),i(s,"stroke-width","2"),i(s,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","stroke-current shrink-0 h-6 w-6"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(t,"class","alert alert-error mt-4")},m(l,f){j(l,t,f),c(t,e),c(e,s),c(t,a),c(t,n),c(n,u)},p(l,f){f&48&&o!==(o=(l[4]||l[5].error)+"")&&be(u,o)},d(l){l&&d(t)}}}function je(r){let t;return{c(){t=W("Restore Account")},l(e){t=U(e,"Restore Account")},m(e,s){j(e,t,s)},d(e){e&&d(t)}}}function Be(r){let t,e;return{c(){t=_("span"),e=W(`
            Restoring...`),this.h()},l(s){t=m(s,"SPAN",{class:!0}),k(t).forEach(d),e=U(s,`
            Restoring...`),this.h()},h(){i(t,"class","loading loading-spinner")},m(s,a){j(s,t,a),j(s,e,a)},d(s){s&&(d(t),d(e))}}}function Me(r){let t,e,s,a,n="Restore Your Account",o,u,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="text-sm">Enter your 12-word recovery phrase to restore your account</span>',f,b,g,S="Paste Phrase",C,h,M="Enter Words",A,O,v,P,E,N,R,Z="OR",G,B,$="Create a new account",J,ee;function te(p,D){return p[0]==="paste"?Ve:Pe}let H=te(r),T=H(r),w=(r[4]||r[5].error)&&de(r);function se(p,D){return p[3]?Be:je}let q=se(r),V=q(r);return{c(){t=_("div"),e=_("div"),s=_("div"),a=_("h2"),a.textContent=n,o=I(),u=_("div"),u.innerHTML=l,f=I(),b=_("div"),g=_("button"),g.textContent=S,C=I(),h=_("button"),h.textContent=M,A=I(),T.c(),O=I(),w&&w.c(),v=I(),P=_("div"),E=_("button"),V.c(),N=I(),R=_("div"),R.textContent=Z,G=I(),B=_("button"),B.textContent=$,this.h()},l(p){t=m(p,"DIV",{class:!0});var D=k(t);e=m(D,"DIV",{class:!0});var le=k(e);s=m(le,"DIV",{class:!0});var y=k(s);a=m(y,"H2",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-y2r53g"&&(a.textContent=n),o=x(y),u=m(y,"DIV",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-hsyj8h"&&(u.innerHTML=l),f=x(y),b=m(y,"DIV",{class:!0});var z=k(b);g=m(z,"BUTTON",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-ojy410"&&(g.textContent=S),C=x(z),h=m(z,"BUTTON",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-11pfxv3"&&(h.textContent=M),z.forEach(d),A=x(y),T.l(y),O=x(y),w&&w.l(y),v=x(y),P=m(y,"DIV",{class:!0});var re=k(P);E=m(re,"BUTTON",{class:!0});var ae=k(E);V.l(ae),ae.forEach(d),re.forEach(d),N=x(y),R=m(y,"DIV",{class:!0,"data-svelte-h":!0}),K(R)!=="svelte-cr75gt"&&(R.textContent=Z),G=x(y),B=m(y,"BUTTON",{class:!0,"data-svelte-h":!0}),K(B)!=="svelte-6uh4iq"&&(B.textContent=$),y.forEach(d),le.forEach(d),D.forEach(d),this.h()},h(){i(a,"class","card-title text-2xl justify-center mb-4"),i(u,"class","alert alert-info mb-4"),i(g,"class","tab flex-1"),F(g,"tab-active",r[0]==="paste"),i(h,"class","tab flex-1"),F(h,"tab-active",r[0]==="individual"),i(b,"class","tabs tabs-boxed mb-4"),i(E,"class","btn btn-primary btn-lg w-full sm:w-auto px-8"),E.disabled=r[3],i(P,"class","card-actions justify-center mt-4"),i(R,"class","divider"),i(B,"class","btn btn-ghost btn-sm"),i(s,"class","card-body"),i(e,"class","card w-full max-w-2xl bg-base-100 shadow-xl"),i(t,"class","flex flex-col items-center justify-center min-h-screen p-4 bg-base-200")},m(p,D){j(p,t,D),c(t,e),c(e,s),c(s,a),c(s,o),c(s,u),c(s,f),c(s,b),c(b,g),c(b,C),c(b,h),c(s,A),T.m(s,null),c(s,O),w&&w.m(s,null),c(s,v),c(s,P),c(P,E),V.m(E,null),c(s,N),c(s,R),c(s,G),c(s,B),J||(ee=[L(g,"click",r[10]),L(h,"click",r[11]),L(E,"click",r[8]),L(B,"click",r[14])],J=!0)},p(p,[D]){D&1&&F(g,"tab-active",p[0]==="paste"),D&1&&F(h,"tab-active",p[0]==="individual"),H===(H=te(p))&&T?T.p(p,D):(T.d(1),T=H(p),T&&(T.c(),T.m(s,O))),p[4]||p[5].error?w?w.p(p,D):(w=de(p),w.c(),w.m(s,v)):w&&(w.d(1),w=null),q!==(q=se(p))&&(V.d(1),V=q(p),V&&(V.c(),V.m(E,null))),D&8&&(E.disabled=p[3])},i:Q,o:Q,d(p){p&&d(t),T.d(),w&&w.d(),V.d(),J=!1,me(ee)}}}function Ne(r,t,e){let s;_e(r,X,v=>e(5,s=v));const a=ve();let n="paste",o="",u=Array(12).fill(""),l=!1,f="";function b(v){e(0,n=v),e(4,f="")}async function g(){e(3,l=!0),e(4,f=""),X.clearError();try{await new Promise(N=>setTimeout(N,100));const v=n==="paste"?o.trim():u.map(N=>N.trim().toLowerCase()).join(" ");if(!v||v.split(" ").length!==12){e(4,f="Please enter all 12 words");return}const{publicKey:P,privateKey:E}=await Ie(v);a("success",{publicKey:P,privateKey:E})}catch(v){e(4,f=v instanceof Error?v.message:"Invalid recovery phrase"),X.setError(f)}finally{e(3,l=!1)}}function S(v){v.preventDefault();const E=(v.clipboardData?.getData("text")||"").trim().toLowerCase().split(/\s+/);E.length===12&&e(2,u=E)}const C=()=>b("paste"),h=()=>b("individual");function M(){o=this.value,e(1,o)}function A(v){u[v]=this.value,e(2,u)}return[n,o,u,l,f,s,a,b,g,S,C,h,M,A,()=>a("success",{publicKey:"",privateKey:""})]}class Re extends he{constructor(t){super(),pe(this,t,Ne,Me,fe,{})}}function Le(r){let t,e,s;return e=new Re({}),e.$on("success",r[0]),{c(){t=I(),xe(e.$$.fragment),this.h()},l(a){ke("svelte-1gixgx3",document.head).forEach(d),t=x(a),De(e.$$.fragment,a),this.h()},h(){document.title="Login - Fairfield Nostr"},m(a,n){j(a,t,n),Ce(e,a,n),s=!0},p:Q,i(a){s||(Ee(e.$$.fragment,a),s=!0)},o(a){ye(e.$$.fragment,a),s=!1},d(a){a&&d(t),we(e,a)}}}function Se(r){function t(e){const{publicKey:s,privateKey:a}=e.detail;X.setKeys(s,a),Te(`${Ae}/chat`)}return[t]}class Fe extends he{constructor(t){super(),pe(this,t,Se,Le,fe,{})}}export{Fe as component};
//# sourceMappingURL=9.B9bQlJkJ.js.map

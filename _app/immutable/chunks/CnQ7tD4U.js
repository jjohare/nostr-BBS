const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vfioTGuK.js","./DzI9cZK7.js","./CbfuHqtt.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./CmsKOCeN.js";import{d as f,w as g,b as _}from"./CbfuHqtt.js";const l={isAuthenticated:!1,publicKey:null,privateKey:null,mnemonic:null,nickname:null,avatar:null,isPending:!1,isAdmin:!1,error:null},b="49dfa09158b64f1c42c584a7e3e9adb4c9e8ea9d391ff11c2ac262d1bebbc5a2",S=["55f6d852c8ecbf022be81be356b62fdeef09c900deaf2bd262dc6759427c2eb2"],d=[...S,b];function A(){const{subscribe:s,set:c,update:i}=g(l);{const e=localStorage.getItem("fairfield_keys");if(e)try{const t=JSON.parse(e);i(a=>({...a,...t,isAuthenticated:!0,isAdmin:d.includes(t.publicKey||"")}))}catch{localStorage.removeItem("fairfield_keys")}}return{subscribe:s,setKeys:(e,t,a)=>{const n={publicKey:e,privateKey:t,mnemonic:a||null,isAuthenticated:!0,isAdmin:d.includes(e),isPending:!1,error:null};{const r=localStorage.getItem("fairfield_keys");let o={};if(r)try{o=JSON.parse(r)}catch{}localStorage.setItem("fairfield_keys",JSON.stringify({publicKey:e,privateKey:t,mnemonic:a||null,nickname:o.nickname||null,avatar:o.avatar||null}))}i(r=>({...r,...n}))},setProfile:(e,t)=>{{const a=localStorage.getItem("fairfield_keys");if(a){const n=JSON.parse(a);n.nickname=e,n.avatar=t,localStorage.setItem("fairfield_keys",JSON.stringify(n))}}i(a=>({...a,nickname:e,avatar:t}))},setPending:e=>{i(t=>({...t,isPending:e}))},setError:e=>{i(t=>({...t,error:e}))},clearError:()=>{i(e=>({...e,error:null}))},logout:async()=>{c(l);{localStorage.removeItem("fairfield_keys");const{goto:e}=await m(async()=>{const{goto:t}=await import("./vfioTGuK.js").then(a=>a.n);return{goto:t}},__vite__mapDeps([0,1,2]),import.meta.url);e(`${_}/`)}},reset:()=>c(l)}}const u=A(),I=f(u,s=>s.isAuthenticated),k=f(u,s=>s.isAdmin);export{u as a,k as b,I as i};
//# sourceMappingURL=CnQ7tD4U.js.map

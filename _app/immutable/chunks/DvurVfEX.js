const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D7a6tDeA.js","./KqBazuOQ.js","./DZvjUGcz.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./CmsKOCeN.js";import{d as l,w as f,b as A}from"./DZvjUGcz.js";const n={isAuthenticated:!1,publicKey:null,privateKey:null,mnemonic:null,isPending:!1,isAdmin:!1,error:null},o=["npub1admin..."];function _(){const{subscribe:s,set:a,update:r}=f(n);{const e=localStorage.getItem("fairfield_keys");if(e)try{const t=JSON.parse(e);r(i=>({...i,...t,isAuthenticated:!0,isAdmin:o.includes(t.publicKey||"")}))}catch{localStorage.removeItem("fairfield_keys")}}return{subscribe:s,setKeys:(e,t,i)=>{const u={publicKey:e,privateKey:t,mnemonic:i||null,isAuthenticated:!0,isAdmin:o.includes(e),isPending:!1,error:null};localStorage.setItem("fairfield_keys",JSON.stringify({publicKey:e,privateKey:t,mnemonic:i||null})),r(d=>({...d,...u}))},setPending:e=>{r(t=>({...t,isPending:e}))},setError:e=>{r(t=>({...t,error:e}))},clearError:()=>{r(e=>({...e,error:null}))},logout:async()=>{a(n);{localStorage.removeItem("fairfield_keys");const{goto:e}=await m(async()=>{const{goto:t}=await import("./D7a6tDeA.js").then(i=>i.n);return{goto:t}},__vite__mapDeps([0,1,2]),import.meta.url);e(`${A}/`)}},reset:()=>a(n)}}const c=_(),S=l(c,s=>s.isAuthenticated),p=l(c,s=>s.isAdmin);export{c as a,p as b,S as i};
//# sourceMappingURL=DvurVfEX.js.map

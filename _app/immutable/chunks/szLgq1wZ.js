const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cpn7EE4E.js","./D9KvLAFu.js","./Dv-Yp-mw.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./CmsKOCeN.js";import{d as u,w as g,b as _}from"./Dv-Yp-mw.js";const o={isAuthenticated:!1,publicKey:null,privateKey:null,mnemonic:null,nickname:null,avatar:null,isPending:!1,isAdmin:!1,error:null},S="49dfa09158b64f1c42c584a7e3e9adb4c9e8ea9d391ff11c2ac262d1bebbc5a2",d=[S];function y(){const{subscribe:s,set:c,update:i}=g(o);{const e=localStorage.getItem("fairfield_keys");if(e)try{const t=JSON.parse(e);i(a=>({...a,...t,isAuthenticated:!0,isAdmin:d.includes(t.publicKey||"")}))}catch{localStorage.removeItem("fairfield_keys")}}return{subscribe:s,setKeys:(e,t,a)=>{const r={publicKey:e,privateKey:t,mnemonic:a||null,isAuthenticated:!0,isAdmin:d.includes(e),isPending:!1,error:null};{const n=localStorage.getItem("fairfield_keys");let l={};if(n)try{l=JSON.parse(n)}catch{}localStorage.setItem("fairfield_keys",JSON.stringify({publicKey:e,privateKey:t,mnemonic:a||null,nickname:l.nickname||null,avatar:l.avatar||null}))}i(n=>({...n,...r}))},setProfile:(e,t)=>{{const a=localStorage.getItem("fairfield_keys");if(a){const r=JSON.parse(a);r.nickname=e,r.avatar=t,localStorage.setItem("fairfield_keys",JSON.stringify(r))}}i(a=>({...a,nickname:e,avatar:t}))},setPending:e=>{i(t=>({...t,isPending:e}))},setError:e=>{i(t=>({...t,error:e}))},clearError:()=>{i(e=>({...e,error:null}))},logout:async()=>{c(o);{localStorage.removeItem("fairfield_keys");const{goto:e}=await m(async()=>{const{goto:t}=await import("./Cpn7EE4E.js").then(a=>a.n);return{goto:t}},__vite__mapDeps([0,1,2]),import.meta.url);e(`${_}/`)}},reset:()=>c(o)}}const f=y(),h=u(f,s=>s.isAuthenticated),k=u(f,s=>s.isAdmin);export{f as a,k as b,h as i};
//# sourceMappingURL=szLgq1wZ.js.map

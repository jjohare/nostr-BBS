#!/bin/bash
# Pre-commit hook for documentation validation

STAGED_MD=$(git diff --cached --name-only --diff-filter=ACM | grep '\.md$')

if [ -n "$STAGED_MD" ]; then
    echo "üìã Running documentation validation on staged files..."
    npm run validate:docs

    if [ $? -ne 0 ]; then
        echo ""
        echo "‚ùå Documentation validation failed"
        echo "Please fix the issues before committing"
        echo ""
        echo "To bypass this check (not recommended):"
        echo "  git commit --no-verify"
        exit 1
    fi

    echo "‚úÖ Documentation validation passed"
fi

exit 0
